!function(e){function t(e,t){return function(){e.apply(t,arguments)}}function n(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],s(e,t(i,this),t(o,this))}function r(e){var t=this;return null===this._state?void this._deferreds.push(e):void c(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var r;try{r=n(t._value)}catch(i){return void e.reject(i)}e.resolve(r)})}function i(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void s(t(n,e),t(i,this),t(o,this))}this._state=!0,this._value=e,u.call(this)}catch(r){o.call(this,r)}}function o(e){this._state=!1,this._value=e,u.call(this)}function u(){for(var e=0,t=this._deferreds.length;t>e;e++)r.call(this,this._deferreds[e]);this._deferreds=null}function a(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function s(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(i){if(r)return;r=!0,n(i)}}var c=n.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},l=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};n.prototype["catch"]=function(e){return this.then(null,e)},n.prototype.then=function(e,t){var i=this;return new n(function(n,o){r.call(i,new a(e,t,n,o))})},n.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&l(arguments[0])?arguments[0]:arguments);return new n(function(t,n){function r(o,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var a=u.then;if("function"==typeof a)return void a.call(u,function(e){r(o,e)},n)}e[o]=u,0===--i&&t(e)}catch(s){n(s)}}if(0===e.length)return t([]);for(var i=e.length,o=0;o<e.length;o++)r(o,e[o])})},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n(function(t){t(e)})},n.reject=function(e){return new n(function(t,n){n(e)})},n.race=function(e){return new n(function(t,n){for(var r=0,i=e.length;i>r;r++)e[r].then(t,n)})},"undefined"!=typeof module&&module.exports?module.exports=n:e.Promise||(e.Promise=n)}(this),function(){"use strict";function e(e){try{return e.sentinel=0,0===Object.getOwnPropertyDescriptor(e,"sentinel").value}catch(t){return!1}}function t(e,t){function n(e){if("string"!=typeof e||!e)throw new Error("view id has wrong format")}if("string"!=typeof e||!t)throw new Error("template engine arg have wrong format");if(W[e])throw new Error("template engine ["+e+"] is already registered");if("function"!=typeof t.render)throw new Error("could not found render method for engine: "+e);var r={};W[e]={hasView:function(e){return n(e),!!r[e]},getView:function(e){return n(e),r[e]},addView:function(e,t){if(n(e),"string"!=typeof t)throw new Error("view content must be string");r[e]=t},renderView:function(i,o,u){n(i);var a=r[i];if(!a)throw new Error('could not found view "'+i+'" on engine '+e);return u.viewId=i,t.render(a,o,u)}}}function n(e){if(!W[e])throw new Error("could not found the template engine: "+e);return W[e]}function r(){return tt+=1}function i(e){var t=r();return X[t]=e,et[t]=0,t}function o(e){return X[e]}function u(e){e&&void 0!==X[e]&&(delete X[e],delete et[e])}function a(e){void 0!==et[e]&&(et[e]+=1)}function s(e){void 0!==et[e]&&(et[e]-=1,et[e]<=0&&u(e))}function c(e){var t,n={};return t=new Promise(function(t,r){n.name=e||"none",n.resolve=t,n.reject=r}),Q.mixin(t,n),t}function l(){this.countOfProto=nt,this.proto={},this.countOfModules=nt,this.modules={},this.views={},this.promises={proto:c("proto"),modules:c("modules"),views:c("views")},this.promiseAll=Promise.all([this.promises.proto,this.promises.modules,this.promises.views]).then(function(){return this}),this.resolveViews()}function f(e,t){if(0===e)throw new Error("component declaration ["+t+"] is already registered")}function d(e,t){0===e&&t()}function h(e){if(e.status===rt.INITIALIZED)throw new Error("component "+e.name+" is already registered")}function p(e,t,n){Q.each(n,function(n){t[n]&&(e[n]=t[n])})}function m(e,t){function n(e){var t=e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()});return"-"===t.charAt(0)?t.substr(1):t}function r(e){return e.substr(e.length-o.length)}var i=e.watchers,o="Changed";Q.each(t,function(e,t){if(r(t)&&"function"==typeof e){var u=n(t.substr(0,t.length-o.length));i[u]=t}})}function v(e,t){"string"==typeof t.template&&e.addView(t.template,"index"),"object"==typeof t.template&&Q.each(t.template,function(t,n){e.addView(t,n)})}function g(e,t){t.style&&(e.style=t.style)}function y(e,t){var n=e.elementProto;Q.each(t,function(e,r){var i=Q.getDescriptor(t,r);"model"===r?n.model=t.model:Q.contains(it,r)?(Q.defineProperty(n._lifeCycle,r,i),Q.contains(ot,r)&&Q.defineProperty(n,r,i)):Q.defineProperty(n,r,i)})}function w(e,t){return"function"==typeof e._lifeCycle[t]}function b(e,t,n){return e._lifeCycle[t].apply(e,n||[])}function E(e,t,n){return w(e,t)?b(e,t,n):void 0}function _(e){function t(t){var n=e[t];return function(){n.call(e,this,arguments)}}var n=window.HTMLElement||window.Element,r=Q.createObject(n.prototype);return r._lifeCycle={},Q.defineProperties(r,{model:{value:void 0,writable:!0},modelId:{value:"",writable:!0},getView:{value:e.getView.bind(e)},renderView:{value:function(t,n,r){"object"==typeof t&&(r=n,n=t,t="index"),r=r||{},r.element=this;var i=this.commands;return"function"==typeof i&&(i=i.call(this)),"object"==typeof i&&(r.commands?Q.mixin(r.commands,i):r.commands=i),e.renderView(t,n,r)}},refresh:{value:function(t,n){function r(){return o?e.handleElement(u):i?e.fetchModel(u,i).then(function(){return e.renderNode(u)}):e.renderNode(u)}var i,o=!1;"function"==typeof t?n=t:t===!0?o=!0:"object"==typeof t&&(i=t),"function"!=typeof n&&(n=function(){});var u=this,a=e.renderComplete.bind(e,u);return Promise.resolve().then(e.renderBegin.bind(e,u)).then(r).then(e.renderSuccess.bind(e,u)).then(n.bind(u))["catch"](e.renderFail.bind(e,u)).then(a,a)}},createdCallback:{value:t("createdCallback")},attachedCallback:{value:t("attachedCallback")},detachedCallback:{value:t("detachedCallback")},attributeChangedCallback:{value:t("attributeChangedCallback")}}),r}function I(e){this.name=e,this.status=rt.INITIALIZING,this.elementProto=_(this),this.definition=new l,this.templateEngine="default",this.injectionMode="light-dom",this.views={},this.style="",this.helpers={},this.watchers={},this.definition.ready(this.initialize.bind(this),this.markFailed.bind(this))}function C(e,t,n){e=e.toLowerCase();var r=ut[e];r&&r.isReady()?n(r,t,!1):(at[e]||(at[e]=[]),at[e].push({node:t,callback:n}))}function N(e){var t=ut[e];if(t||(t=ut[e]=new Z.Component(e),t.on("initialized",function(){at[e]&&(Q.each(at[e],function(e){e.callback(t,e.node,!0)}),at[e]=null)})),t.isReady())throw new Error("component "+t.name+" is already registered");return ut[e]}function j(){return document.baseURI}function P(e){var t=e.ownerDocument?e.ownerDocument.baseURI:"";return t||j()}function A(){return document._currentScript||document.currentScript}function O(){var e=A();return e?e.parentNode:void 0}function T(){var e=A();return e?e.baseURI||e.ownerDocument.baseURI:j()}function S(){var e=O();return e?e.getAttribute("name"):""}function x(e,t,n){return Q.isArray(e)?(n=t,t=e,e=S()):"object"==typeof e||void 0===e?(n=e,t=void 0,e=S()):"string"!=typeof e||Q.isArray(t)||(n=t,t=void 0),{name:e,dependencies:t,elementProto:n}}function L(e){function t(){var t=[];Q.eachChildNodes(e,function(e){return e.tagName&&"link"===e.tagName.toLowerCase()&&"stylesheet"===e.getAttribute("rel")},function(e){t.push(e)}),Q.each(t,function(t){var n=new URL(t.getAttribute("href"),r);i+='@import "'+n+'";',e.removeChild(t)})}function n(){var t=[];Q.eachChildNodes(e,function(e){return e.tagName&&"style"===e.tagName.toLowerCase()},function(e){t.push(e)}),Q.each(t,function(t){var n=t.innerHTML;i+=n,e.removeChild(t)})}var r=P(e),i="";return t(),n(),i}function M(e){if(!e.isReady()){var t=setTimeout(function(){if(!e.isReady())throw e.initialize(),new Error("component "+e.name+" is initialized automatically, forgot [noscript] attribute? ")},1e4);e.on("initialized",function(){clearTimeout(t)})}}function k(e,t){function n(e){a.mixinProto(i),a.mixinModules(e),t?(a.resolveProto(),a.resolveModules()):M(u)}var r=e.name,i=e.elementProto,o=e.dependencies;if(!r)throw new Error("component name could not be inferred.");var u=N(r),a=u.definition;if(!i)return void u.markFailed("component ["+r+"] prototype could not be inferred.");if(o){var s=T();o=o.map(function(e){return"."===e.charAt(0)?Q.resolveUri(e,s):e}),Z.require.check()?Z.require(o,{success:function(){n(arguments)},error:function(e){var t="error";e&&e.error&&e.error.exception&&(t=e.error.exception),u.markFailed(t)}}):u.markFailed("could not found the global module loader")}else n()}function R(e,t,n){var r=x(e,t,n),i=!0,o=O(),u=o?o.tagName.toLowerCase():"";u===Z.configs.declarationTag&&(i=!1),k(r,i)}function q(e){var t,n;t={definitionEle:e,style:L(e),templateEngine:e.getAttribute("template-engine"),injectionMode:e.getAttribute("injection-mode")},n={name:e.getAttribute("name"),dependencies:void 0,elementProto:t};var r=!1;e.hasAttribute("noscript")&&(r=!0),k(n,r)}function F(e){return e&&e.tagName&&Q.isCustomTag(e.tagName)}function V(e,t,n){function r(t){if(Q.debug(t,"has flag on bind",t.__flipper__),t)if(t.initialized){if("success"===e&&"success"!==t.status)return;if("error"===e&&"error"!==t.status)return;n.call(t,t.reason||void 0)}else Q.event.on(t,e,function(e){e.target===t&&(Q.event.halt(e),n.call(t))})}if("string"!=typeof t&&t.length||(t=[t]),"function"==typeof n)for(var i=0,o=t.length;o>i;i+=1)Q.handleNode(t[i],r)}function D(){return Z}if(Object.defineProperty&&!document._currentScript){var H={get:function(){var e=document.currentScript||("complete"!==document.readyState?document.scripts[document.scripts.length-1]:null);return e},configurable:!0};Object.defineProperty(document,"_currentScript",H)}Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i});var z={templateEngine:"default",injectionMode:"light-dom",declarationTag:"web-component"},Z={version:"@@VERSION@@",configs:z,useNative:!!document.registerElement};Z.config=function(e,t){if("object"==typeof e&&1===arguments.length)Q.mixin(z,e);else{if("string"!=typeof e||2!==arguments.length)throw new Error("unsupoorted config type. key: "+e+", value: "+t);z[e]=t}};var Q={};Q.noop=function(){},Q.each=function(e,t){if(Q.isArray(e))for(var n=0,r=e.length;r>n;n+=1)t(e[n],n);else for(var i in e)e.hasOwnProperty(i)&&t(e[i],i)};var U=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Q.trim=function(e){return"string"==typeof e?e.trim?e.trim():e.replace(U,""):e},Q.format=function(e){var t=0;e.replace(/%s/,function(){return t+=1,arguments[t]||""})},Q.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Q.contains=function(e,t){if(e.lastIndexOf)return e.lastIndexOf(t)>-1;for(var n=0,r=e.length;r>n;n+=1)if(t===e[n])return!0;return!1},Q.isPromise=function(e){return e&&"function"==typeof e.then},Q.isElement=function(e){return!(!e||1!==e.nodeType)};var B=!1;Q.debug=function(){if(B){var e=Q.format.apply(Q,arguments);"function"==typeof console.log&&console.log(e)}},Q.log=function(){var e=Q.format.apply(Q,arguments);"function"==typeof console.log&&console.log(e)},Q.error=function(e){console.error(e.stack||e)};var G=e({})&&e(document.createElement("div"));Q.mixin=function(e,t){if(e)if(G)Q.each(Object.getOwnPropertyNames(t),function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))});else for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Q.defineProperty=function(e,t,n){G?Object.defineProperty(e,t,n):e[t]=n.value},Q.getDescriptor=function(e,t){return G?Object.getOwnPropertyDescriptor(e,t):{value:e[t]}},Q.defineProperties=function(e,t){G?Object.defineProperties(e,t):Q.each(t,function(t,n){Q.defineProperty(e,n,t)})},Q.createObject=Object.create&&G?Object.create:function(){var e=function(){};return function(t,n){if(arguments.length>1)throw Error("Second argument not supported");e.prototype=t;var r=new e;return e.prototype=null,n&&Q.defineProperties(r,n),r}}(),Q.resolveUri=function(e,t){var n=new URL(e,t);return n.href},Q.eachChildNodes=function(e,t,n){var r,i,o,u="function"==typeof t;if(e.childNodes)for(i=0,o=e.childNodes.length;o>i;i+=1)r=e.childNodes[i],(!u||t(r))&&n(r)},Q.handleNode=function(e,t){if("string"==typeof e&&(e=Q.query.all(e)),e.length)for(var n=0,r=e.length;r>n;n+=1)t(e[n]);else t(e)},Q.isCustomTag=function(e){return e&&e.lastIndexOf("-")>=0},Q.requestjQuery=function(e){if(!window.jQuery)throw new Error("must include jQuery on IE browser");return window.jQuery(e)};var K=!!window.CustomEvent;if(K)try{new window.CustomEvent("xyz")}catch(Y){K=!1}var $=function(){function e(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var n=e.indexOf("Trident/");if(n>0){var r=e.indexOf("rv:");return parseInt(e.substring(r+3,e.indexOf(".",r)),10)}var i=e.indexOf("Edge/");return i>0?parseInt(e.substring(i+5,e.indexOf(".",i)),10):!1}return e()}();Q.event={on:function(e,t,n){K&&!$?e.addEventListener(t,n,!1):Q.rquestjQuery(e).on(t,n)},trigger:function(e,t){if(K&&!$){var n=new CustomEvent(t);e.dispatchEvent(n)}else Q.rquestjQuery(e).trigger(t)},halt:function(e){e=e||window.event,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault?e.preventDefault():e.returnValue=!1)}};var J={};Q.cloneNode=function(e){var t,n,r=e.tagName.toLowerCase();if(J[r]||(J[r]=document.createElement(r)),t=J[r].cloneNode(!0),e.hasAttributes()){n=e.attributes;for(var i=0,o=n.length;o>i;i+=1)t.setAttribute(n[i].name,n[i].value)}return e.innerHTML&&e.innerHTML.length&&(t.innerHTML=e.innerHTML),t},Q.query=function(e,t){return 1===arguments.length&&(t=e,e=document),e.querySelector?e.querySelector(t):Q.rquestjQuery(e).find(t)[0]},Q.query.all=function(e,t){if(1===arguments.length&&(t=e,e=document),e.querySelectorAll)return e.querySelectorAll(t);var n=[];return Q.rquestjQuery(e).find(t).each(function(){n.push(this)}),n};var W={};t("default",{render:function(e){return e}}),Z.registerTemplateEngine=t,Z.getTemplateEngine=n,Z.require=function(){window.require.apply(null,arguments)},Z.require.check=function(){return!!window.require};var X={},et={},tt=0;Z.dataCenter={_warehouse:X,requestSpace:i,removeSpace:u,getSpace:o,linkSpace:a,unlinkSpace:s},Z.requestSpace=i,Z.removeSpace=u;var nt=2;l.prototype={ready:function(e,t){return this.promiseAll.then(e)["catch"](t)},mixinProto:function(e){function t(e){f(n.countOfProto,"element prototype"),Q.mixin(n.proto,e),n.countOfProto-=1,d(n.countOfProto,n.resolveProto.bind(n))}var n=this;if("object"==typeof e)t(e);else{if("function"!=typeof e)throw new Error("element prototype has wrong format");n.promises.modules.then(function(n){var r=e.apply(null,n);t(r)})}},resolveProto:function(){this.promises.proto.resolve(this.proto)},mixinModules:function(e){var t=this;f(t.countOfModules,"element dependencies"),e&&(this.modules=e),this.countOfModules-=1,d(t.countOfModules,t.resolveModules.bind(t))},resolveModules:function(){this.promises.modules.resolve(this.modules)},rejectModules:function(e){this.promises.modules.reject(e)},resolveViews:function(){this.promises.views.resolve(this.views)}};var rt={ERROR:"ERROR",INITIALIZING:"INITIALIZING",INITIALIZED:"INITIALIZED"},it=["initialize","fetch","adapt","render","ready","destroy","fail"],ot=["fetch","adapt","render"];I.prototype={on:function(e,t){this.__events__||(this.__events__={}),this.__events__[e]||(this.__events__[e]=[]),this.__events__[e].push(t)},fire:function(e,t){var n=this;this.__events__&&this.__events__[e]&&Q.each(this.__events__[e],function(e){e.apply(n,t||[])})},isReady:function(){return this.status===rt.INITIALIZED},prepare:function(e){h(this),e&&(y(this,e),p(this,e,["templateEngine","injectionMode","definitionEle","helpers"]),m(this,e),v(this,e),g(this,e))},initialize:function(){h(this),this.prepare(this.definition.proto),Z.useNative&&document.registerElement(this.name,{prototype:this.elementProto}),Z.useNative||document.createElement(this.name),this.status=rt.INITIALIZED,this.definition=null,this.fire("initialized")},transform:function(e,t){if(this.status===rt.INITIALIZING)this.on("initialized",function(){this.transform(e)});else if(this.status===rt.INITIALIZED&&!e.__flipper__){if(t){var n=Q.cloneNode(e);e.parentNode.replaceChild(n,e),e=n}Q.mixin(e,this.elementProto),e.createdCallback(),e.attachedCallback()}},markFailed:function(e){this.status=rt.ERROR,"string"==typeof e&&(e=new Error(e)),this.fire("initialized",[e]),Q.error(e)},addView:function(e,t){this.views[t||"index"]=e+""},getView:function(e){var t;e=e||"index",this.views[e]&&(t=this.views[e]);var n=function(n){if((n.id||"index")===e&&(t=n.innerHTML,!t&&n.content&&n.content.cloneNode)){var r=document.createElement("div");r.appendChild(n.content.cloneNode(!0)),t=r.innerHTML}};return!t&&this.definitionEle&&(Q.eachChildNodes(this.definitionEle,function(e){return e.tagName&&"template"===e.tagName.toLowerCase()},function(e){return n(e)}),t||Q.eachChildNodes(this.definitionEle,function(e){return e.tagName&&"script"===e.tagName.toLowerCase()&&"template"===e.getAttribute("type")},function(e){return n(e)})),t||"index"!==e||(t=" "),t||""},renderView:function(e,t,n){e=e||"index";var r=Z.getTemplateEngine(this.templateEngine),i=this.name+"-"+e;return r.hasView(i)||r.addView(i,this.getView(e)),r.renderView(i,t,n)},createdCallback:function(e){Q.debug(e,"is created");var t=this.renderComplete.bind(this,e);Promise.resolve().then(this.renderBegin.bind(this,e)).then(this.initElement.bind(this,e)).then(this.handleElement.bind(this,e)).then(this.renderSuccess.bind(this,e))["catch"](this.renderFail.bind(this,e)).then(this.addStyle.bind(this,e)).then(t,t)},renderBegin:function(e){Q.debug(e,"render begin"),e.setAttribute("unresolved",""),e.__flipper__=!0,Q.debug(e,"has flipper flag",e.__flipper__)},initElement:function(e){return E(e,"initialize")},handleElement:function(e){return Promise.resolve().then(this.fetchModel.bind(this,e)).then(this.renderNode.bind(this,e))},fetchModel:function(e,t){var n,r;return t?(r="",n=t):w(e,"fetch")?(r="",n=b(e,"fetch")):e.hasAttribute("model-id")&&(r=e.getAttribute("model-id"),n=Z.dataCenter.getSpace(r)),Promise.resolve(n).then(function(t){void 0!==t&&(e.model=t,r||(r=Z.dataCenter.requestSpace(t)),Z.dataCenter.linkSpace(r),e.modelId=r)})},renderNode:function(e){return w(e,"render")?b(e,"render"):Promise.resolve().then(this.formatModel.bind(this,e)).then(this.renderHTML.bind(this,e)).then(this.createTree.bind(this,e))},formatModel:function(e){return w(e,"adapt")?b(e,"adapt",[e.model]):e.model},renderHTML:function(e,t){var n="index",r=e.commands;return"function"==typeof r&&(r=r.call(e)),this.renderView(n,t,{element:e,commands:r})},createTree:function(e,t){var n="light-dom"===this.injectionMode||"light",r=n?e:e.createShadowRoot();r.innerHTML=t},addStyle:function(e){var t=document.createElement("style");if(t.textContent=this.style,t.setAttribute("referance-to",this.name),e.shadowRoot&&e.shadowRoot.innerHTML)e.shadowRoot.appendChild(t);else{var n=Q.query(e,'style[referance-to="'+this.name+'"]');n||(document.head||document.body).appendChild(t)}},renderFail:function(e,t){Q.debug(e,"render fail"),Q.error(t),e.status="error",e.reason=t;var n=E(e,"fail",[t]);return Promise.resolve(n).then(function(){Q.event.trigger(e,"error")})},renderSuccess:function(e){Q.debug(e,"render success"),e.status="success";var t=E(e,"ready");return Promise.resolve(t).then(function(){Q.event.trigger(e,"success")})},renderComplete:function(e){Q.debug(e,"render complete"),e.removeAttribute("unresolved"),e.initialized=!0,Q.event.trigger(e,"ready"),Z.useNative||Z.parse(e)},detachedCallback:function(e){this.destroy(e)},destroy:function(e){E(e,"destroy"),e.modelId&&(Z.dataCenter.unlinkSpace(e.modelId),e.modelId=void 0,e.model=void 0),Q.event.trigger(e,"destroy")},attachedCallback:function(){},attributeChangedCallback:function(e,t){var n,r,i;"function"==typeof e.attributeChanged?e.attributeChanged.apply(e,t):(n=this.watchers,r=t[0],n[r]&&(i=e[n[r]],"function"==typeof i&&i.apply(e,Array.prototype.slice.call(t,1))))},setHelpers:function(e){this.helpers=e},getHelpers:function(){return this.helpers}},Z.Component=I;var ut={},at={};Z.define=Z.register=R,Z.useNative&&document.registerElement(Z.configs.declarationTag,{prototype:Q.createObject(HTMLElement.prototype,{createdCallback:{value:function(){q(this)}}})}),window.FlipperPolyfill&&window.FlipperPolyfill.flushDeclaration(Z.register.bind(Z)),Z.getComponent=function(e){return ut[e]},Z.hasCompoent=function(e){return!!Z.getComponent(e)},Z.getComponentHelpers=function(e){var t=ut[e];return t?t.getHelpers():{}},Z.components=ut,Z.init=function(e){function t(e,t,n){e.transform(t,n)}function n(e){return F(e)?e.initialized?!1:void C(e.tagName,e,t):!1}return Z.useNative?!1:(Q.handleNode(e,n),!0)},Z.parse=function(e){return Z.useNative?!1:void Q.handleNode(e,function(e){Q.eachChildNodes(e,void 0,function(e){F(e)?Z.init(e):e.childNodes&&e.childNodes.length&&Z.parse(e)})})},Z.findShadow=function(e,t){return Q.query.all(e.shadowRoot,t)},Z.whenError=function(e,t){V("error",e,t)},Z.whenSuccess=function(e,t){V("success",e,t)},Z.whenReady=function(e,t){V("ready",e,t)},window.KISSY&&"function"==typeof window.KISSY.add?window.KISSY.add(D):"function"==typeof window.define&&window.define&&window.define(D),window.Flipper=D()}();