window.WebComponents=window.WebComponents||{},function(e){var t=e.flags||{},n="webcomponents.js",r=document.querySelector('script[src*="'+n+'"]');if(!t.noOpts){if(location.search.slice(1).split("&").forEach(function(e){e=e.split("="),e[0]&&(t[e[0]]=e[1]||!0)}),r)for(var i,o=0;i=r.attributes[o];o++)"src"!==i.name&&(t[i.name]=i.value||!0);if(t.log&&t.log.split){var a=t.log.split(",");t.log={},a.forEach(function(e){t.log[e]=!0})}else t.log={}}t.shadow=t.shadow||t.shadowdom||t.polyfill,t.shadow="native"===t.shadow?!1:t.shadow||!HTMLElement.prototype.createShadowRoot,t.register&&(window.CustomElements=window.CustomElements||{flags:{}},window.CustomElements.flags.register=t.register),e.flags=t}(WebComponents),function(e){"use strict";function t(e){return void 0!==f[e]}function n(){s.call(this),this._isInvalid=!0}function r(e){return""==e&&n.call(this),e.toLowerCase()}function i(e){var t=e.charCodeAt(0);return t>32&&127>t&&-1==[34,35,60,62,63,96].indexOf(t)?e:encodeURIComponent(e)}function o(e){var t=e.charCodeAt(0);return t>32&&127>t&&-1==[34,35,60,62,96].indexOf(t)?e:encodeURIComponent(e)}function a(e,a,s){function u(e){y.push(e)}var c=a||"scheme start",l=0,h="",g=!1,b=!1,y=[];e:for(;(e[l-1]!=p||0==l)&&!this._isInvalid;){var w=e[l];switch(c){case"scheme start":if(!w||!m.test(w)){if(a){u("Invalid scheme.");break e}h="",c="no scheme";continue}h+=w.toLowerCase(),c="scheme";break;case"scheme":if(w&&v.test(w))h+=w.toLowerCase();else{if(":"!=w){if(a){if(p==w)break e;u("Code point not allowed in scheme: "+w);break e}h="",l=0,c="no scheme";continue}if(this._scheme=h,h="",a)break e;t(this._scheme)&&(this._isRelative=!0),c="file"==this._scheme?"relative":this._isRelative&&s&&s._scheme==this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"==w?(query="?",c="query"):"#"==w?(this._fragment="#",c="fragment"):p!=w&&"	"!=w&&"\n"!=w&&"\r"!=w&&(this._schemeData+=i(w));break;case"no scheme":if(s&&t(s._scheme)){c="relative";continue}u("Missing scheme."),n.call(this);break;case"relative or authority":if("/"!=w||"/"!=e[l+1]){u("Expected /, got: "+w),c="relative";continue}c="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!=this._scheme&&(this._scheme=s._scheme),p==w){this._host=s._host,this._port=s._port,this._path=s._path.slice(),this._query=s._query;break e}if("/"==w||"\\"==w)"\\"==w&&u("\\ is an invalid code point."),c="relative slash";else if("?"==w)this._host=s._host,this._port=s._port,this._path=s._path.slice(),this._query="?",c="query";else{if("#"!=w){var _=e[l+1],E=e[l+2];("file"!=this._scheme||!m.test(w)||":"!=_&&"|"!=_||p!=E&&"/"!=E&&"\\"!=E&&"?"!=E&&"#"!=E)&&(this._host=s._host,this._port=s._port,this._path=s._path.slice(),this._path.pop()),c="relative path";continue}this._host=s._host,this._port=s._port,this._path=s._path.slice(),this._query=s._query,this._fragment="#",c="fragment"}break;case"relative slash":if("/"!=w&&"\\"!=w){"file"!=this._scheme&&(this._host=s._host,this._port=s._port),c="relative path";continue}"\\"==w&&u("\\ is an invalid code point."),c="file"==this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=w){u("Expected '/', got: "+w),c="authority ignore slashes";continue}c="authority second slash";break;case"authority second slash":if(c="authority ignore slashes","/"!=w){u("Expected '/', got: "+w);continue}break;case"authority ignore slashes":if("/"!=w&&"\\"!=w){c="authority";continue}u("Expected authority, got: "+w);break;case"authority":if("@"==w){g&&(u("@ already seen."),h+="%40"),g=!0;for(var x=0;x<h.length;x++){var T=h[x];if("	"!=T&&"\n"!=T&&"\r"!=T)if(":"!=T||null!==this._password){var C=i(T);null!==this._password?this._password+=C:this._username+=C}else this._password="";else u("Invalid whitespace in authority.")}h=""}else{if(p==w||"/"==w||"\\"==w||"?"==w||"#"==w){l-=h.length,h="",c="host";continue}h+=w}break;case"file host":if(p==w||"/"==w||"\\"==w||"?"==w||"#"==w){2!=h.length||!m.test(h[0])||":"!=h[1]&&"|"!=h[1]?0==h.length?c="relative path start":(this._host=r.call(this,h),h="",c="relative path start"):c="relative path";continue}"	"==w||"\n"==w||"\r"==w?u("Invalid whitespace in file host."):h+=w;break;case"host":case"hostname":if(":"!=w||b){if(p==w||"/"==w||"\\"==w||"?"==w||"#"==w){if(this._host=r.call(this,h),h="",c="relative path start",a)break e;continue}"	"!=w&&"\n"!=w&&"\r"!=w?("["==w?b=!0:"]"==w&&(b=!1),h+=w):u("Invalid code point in host/hostname: "+w)}else if(this._host=r.call(this,h),h="",c="port","hostname"==a)break e;break;case"port":if(/[0-9]/.test(w))h+=w;else{if(p==w||"/"==w||"\\"==w||"?"==w||"#"==w||a){if(""!=h){var N=parseInt(h,10);N!=f[this._scheme]&&(this._port=N+""),h=""}if(a)break e;c="relative path start";continue}"	"==w||"\n"==w||"\r"==w?u("Invalid code point in port: "+w):n.call(this)}break;case"relative path start":if("\\"==w&&u("'\\' not allowed in path."),c="relative path","/"!=w&&"\\"!=w)continue;break;case"relative path":if(p!=w&&"/"!=w&&"\\"!=w&&(a||"?"!=w&&"#"!=w))"	"!=w&&"\n"!=w&&"\r"!=w&&(h+=i(w));else{"\\"==w&&u("\\ not allowed in relative path.");var I;(I=d[h.toLowerCase()])&&(h=I),".."==h?(this._path.pop(),"/"!=w&&"\\"!=w&&this._path.push("")):"."==h&&"/"!=w&&"\\"!=w?this._path.push(""):"."!=h&&("file"==this._scheme&&0==this._path.length&&2==h.length&&m.test(h[0])&&"|"==h[1]&&(h=h[0]+":"),this._path.push(h)),h="","?"==w?(this._query="?",c="query"):"#"==w&&(this._fragment="#",c="fragment")}break;case"query":a||"#"!=w?p!=w&&"	"!=w&&"\n"!=w&&"\r"!=w&&(this._query+=o(w)):(this._fragment="#",c="fragment");break;case"fragment":p!=w&&"	"!=w&&"\n"!=w&&"\r"!=w&&(this._fragment+=w)}l++}}function s(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function u(e,t){void 0===t||t instanceof u||(t=new u(String(t))),this._url=e,s.call(this);var n=e.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");a.call(this,n,null,t)}var c=!1;if(!e.forceJURL)try{var l=new URL("b","http://a");l.pathname="c%20d",c="http://a/c%20d"===l.href}catch(h){}if(!c){var f=Object.create(null);f.ftp=21,f.file=0,f.gopher=70,f.http=80,f.https=443,f.ws=80,f.wss=443;var d=Object.create(null);d["%2e"]=".",d[".%2e"]="..",d["%2e."]="..",d["%2e%2e"]="..";var p=void 0,m=/[a-zA-Z]/,v=/[a-zA-Z0-9\+\-\.]/;u.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var e="";return(""!=this._username||null!=this._password)&&(e=this._username+(null!=this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+e+this.host:"")+this.pathname+this._query+this._fragment},set href(e){s.call(this),a.call(this,e)},get protocol(){return this._scheme+":"},set protocol(e){this._isInvalid||a.call(this,e+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(e){!this._isInvalid&&this._isRelative&&a.call(this,e,"host")},get hostname(){return this._host},set hostname(e){!this._isInvalid&&this._isRelative&&a.call(this,e,"hostname")},get port(){return this._port},set port(e){!this._isInvalid&&this._isRelative&&a.call(this,e,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(e){!this._isInvalid&&this._isRelative&&(this._path=[],a.call(this,e,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"==this._query?"":this._query},set search(e){!this._isInvalid&&this._isRelative&&(this._query="?","?"==e[0]&&(e=e.slice(1)),a.call(this,e,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"==this._fragment?"":this._fragment},set hash(e){this._isInvalid||(this._fragment="#","#"==e[0]&&(e=e.slice(1)),a.call(this,e,"fragment"))},get origin(){var e;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null"}return e=this.host,e?this._scheme+"://"+e:""}};var g=e.URL;g&&(u.createObjectURL=function(){return g.createObjectURL.apply(g,arguments)},u.revokeObjectURL=function(e){g.revokeObjectURL(e)}),e.URL=u}}(this),"undefined"==typeof WeakMap&&!function(){var e=Object.defineProperty,t=Date.now()%1e9,n=function(){this.name="__st"+(1e9*Math.random()>>>0)+(t++ +"__")};n.prototype={set:function(t,n){var r=t[this.name];return r&&r[0]===t?r[1]=n:e(t,this.name,{value:[t,n],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},"delete":function(e){var t=e[this.name];return t&&t[0]===e?(t[0]=t[1]=void 0,!0):!1},has:function(e){var t=e[this.name];return t?t[0]===e:!1}},window.WeakMap=n}(),function(e){function t(e){w.push(e),y||(y=!0,m(r))}function n(e){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(e)||e}function r(){y=!1;var e=w;w=[],e.sort(function(e,t){return e.uid_-t.uid_});var t=!1;e.forEach(function(e){var n=e.takeRecords();i(e),n.length&&(e.callback_(n,e),t=!0)}),t&&r()}function i(e){e.nodes_.forEach(function(t){var n=v.get(t);n&&n.forEach(function(t){t.observer===e&&t.removeTransientObservers()})})}function o(e,t){for(var n=e;n;n=n.parentNode){var r=v.get(n);if(r)for(var i=0;i<r.length;i++){var o=r[i],a=o.options;if(n===e||a.subtree){var s=t(a);s&&o.enqueue(s)}}}}function a(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++_}function s(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function u(e){var t=new s(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}function c(e,t){return E=new s(e,t)}function l(e){return x?x:(x=u(E),x.oldValue=e,x)}function h(){E=x=void 0}function f(e){return e===x||e===E}function d(e,t){return e===t?e:x&&f(e)?x:null}function p(e,t,n){this.observer=e,this.target=t,this.options=n,this.transientObservedNodes=[]}var m,v=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))m=setTimeout;else if(window.setImmediate)m=window.setImmediate;else{var g=[],b=String(Math.random());window.addEventListener("message",function(e){if(e.data===b){var t=g;g=[],t.forEach(function(e){e()})}}),m=function(e){g.push(e),window.postMessage(b,"*")}}var y=!1,w=[],_=0;a.prototype={observe:function(e,t){if(e=n(e),!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var r=v.get(e);r||v.set(e,r=[]);for(var i,o=0;o<r.length;o++)if(r[o].observer===this){i=r[o],i.removeListeners(),i.options=t;break}i||(i=new p(this,e,t),r.push(i),this.nodes_.push(e)),i.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){for(var t=v.get(e),n=0;n<t.length;n++){var r=t[n];if(r.observer===this){r.removeListeners(),t.splice(n,1);break}}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}};var E,x;p.prototype={enqueue:function(e){var n=this.observer.records_,r=n.length;if(n.length>0){var i=n[r-1],o=d(i,e);if(o)return void(n[r-1]=o)}else t(this.observer);n[r]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=v.get(e);t||v.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);for(var t=v.get(e),n=0;n<t.length;n++)if(t[n]===this){t.splice(n,1);break}},this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,n=e.relatedNode.namespaceURI,r=e.target,i=new c("attributes",r);i.attributeName=t,i.attributeNamespace=n;var a=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;o(r,function(e){return!e.attributes||e.attributeFilter&&e.attributeFilter.length&&-1===e.attributeFilter.indexOf(t)&&-1===e.attributeFilter.indexOf(n)?void 0:e.attributeOldValue?l(a):i});break;case"DOMCharacterDataModified":var r=e.target,i=c("characterData",r),a=e.prevValue;o(r,function(e){return e.characterData?e.characterDataOldValue?l(a):i:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var s,u,f=e.target;"DOMNodeInserted"===e.type?(s=[f],u=[]):(s=[],u=[f]);var d=f.previousSibling,p=f.nextSibling,i=c("childList",e.target.parentNode);i.addedNodes=s,i.removedNodes=u,i.previousSibling=d,i.nextSibling=p,o(e.relatedNode,function(e){return e.childList?i:void 0})}h()}},e.JsMutationObserver=a,e.MutationObserver||(e.MutationObserver=a)}(this),window.HTMLImports=window.HTMLImports||{flags:{}},function(e){function t(e,t){t=t||p,r(function(){o(e,t)},t)}function n(e){return"complete"===e.readyState||e.readyState===g}function r(e,t){if(n(t))e&&e();else{var i=function(){("complete"===t.readyState||t.readyState===g)&&(t.removeEventListener(b,i),r(e,t))};t.addEventListener(b,i)}}function i(e){e.target.__loaded=!0}function o(e,t){function n(){u==c&&e&&e({allImports:s,loadedImports:l,errorImports:h})}function r(e){i(e),l.push(this),u++,n()}function o(){h.push(this),u++,n()}var s=t.querySelectorAll("link[rel=import]"),u=0,c=s.length,l=[],h=[];if(c)for(var f,d=0;c>d&&(f=s[d]);d++)a(f)?(u++,n()):(f.addEventListener("load",r),f.addEventListener("error",o));else n()}function a(e){return h?e.__loaded||e.import&&"loading"!==e.import.readyState:e.__importParsed}function s(e){for(var t,n=0,r=e.length;r>n&&(t=e[n]);n++)u(t)&&c(t)}function u(e){return"link"===e.localName&&"import"===e.rel}function c(e){var t=e.import;t?i({target:e}):(e.addEventListener("load",i),e.addEventListener("error",i))}var l="import",h=Boolean(l in document.createElement("link")),f=Boolean(window.ShadowDOMPolyfill),d=function(e){return f?ShadowDOMPolyfill.wrapIfNeeded(e):e},p=d(document),m={get:function(){var e=HTMLImports.currentScript||document.currentScript||("complete"!==document.readyState?document.scripts[document.scripts.length-1]:null);return d(e)},configurable:!0};Object.defineProperty(document,"_currentScript",m),Object.defineProperty(p,"_currentScript",m);var v=/Trident|Edge/.test(navigator.userAgent),g=v?"complete":"interactive",b="readystatechange";h&&(new MutationObserver(function(e){for(var t,n=0,r=e.length;r>n&&(t=e[n]);n++)t.addedNodes&&s(t.addedNodes)}).observe(document.head,{childList:!0}),function(){if("loading"===document.readyState)for(var e,t=document.querySelectorAll("link[rel=import]"),n=0,r=t.length;r>n&&(e=t[n]);n++)c(e)}()),t(function(e){HTMLImports.ready=!0,HTMLImports.readyTime=(new Date).getTime();var t=p.createEvent("CustomEvent");t.initCustomEvent("HTMLImportsLoaded",!0,!0,e),p.dispatchEvent(t)}),e.IMPORT_LINK_TYPE=l,e.useNative=h,e.rootDocument=p,e.whenReady=t,e.isIE=v}(HTMLImports),function(e){var t=[],n=function(e){t.push(e)},r=function(){t.forEach(function(t){t(e)})};e.addModule=n,e.initializeModules=r}(HTMLImports),HTMLImports.addModule(function(e){var t=/(url\()([^)]*)(\))/g,n=/(@import[\s]+(?!url\())([^;]*)(;)/g,r={resolveUrlsInStyle:function(e,t){var n=e.ownerDocument,r=n.createElement("a");return e.textContent=this.resolveUrlsInCssText(e.textContent,t,r),e},resolveUrlsInCssText:function(e,r,i){var o=this.replaceUrls(e,i,r,t);return o=this.replaceUrls(o,i,r,n)},replaceUrls:function(e,t,n,r){return e.replace(r,function(e,r,i,o){var a=i.replace(/["']/g,"");return n&&(a=new URL(a,n).href),t.href=a,a=t.href,r+"'"+a+"'"+o})}};e.path=r}),HTMLImports.addModule(function(e){var t={async:!0,ok:function(e){return e.status>=200&&e.status<300||304===e.status||0===e.status},load:function(n,r,i){var o=new XMLHttpRequest;return(e.flags.debug||e.flags.bust)&&(n+="?"+Math.random()),o.open("GET",n,t.async),o.addEventListener("readystatechange",function(){if(4===o.readyState){var e=o.getResponseHeader("Location"),n=null;if(e)var n="/"===e.substr(0,1)?location.origin+e:e;r.call(i,!t.ok(o)&&o,o.response||o.responseText,n)}}),o.send(),o},loadDocument:function(e,t,n){this.load(e,t,n).responseType="document"}};e.xhr=t}),HTMLImports.addModule(function(e){var t=e.xhr,n=e.flags,r=function(e,t){this.cache={},this.onload=e,this.oncomplete=t,this.inflight=0,this.pending={}};r.prototype={addNodes:function(e){this.inflight+=e.length;for(var t,n=0,r=e.length;r>n&&(t=e[n]);n++)this.require(t);this.checkDone()},addNode:function(e){this.inflight++,this.require(e),this.checkDone()},require:function(e){var t=e.src||e.href;e.__nodeUrl=t,this.dedupe(t,e)||this.fetch(t,e)},dedupe:function(e,t){if(this.pending[e])return this.pending[e].push(t),!0;return this.cache[e]?(this.onload(e,t,this.cache[e]),this.tail(),!0):(this.pending[e]=[t],!1)},fetch:function(e,r){if(n.load&&console.log("fetch",e,r),e)if(e.match(/^data:/)){var i=e.split(","),o=i[0],a=i[1];a=o.indexOf(";base64")>-1?atob(a):decodeURIComponent(a),setTimeout(function(){this.receive(e,r,null,a)}.bind(this),0)}else{var s=function(t,n,i){this.receive(e,r,t,n,i)}.bind(this);t.load(e,s)}else setTimeout(function(){this.receive(e,r,{error:"href must be specified"},null)}.bind(this),0)},receive:function(e,t,n,r,i){this.cache[e]=r;for(var o,a=this.pending[e],s=0,u=a.length;u>s&&(o=a[s]);s++)this.onload(e,o,r,n,i),this.tail();this.pending[e]=null},tail:function(){--this.inflight,this.checkDone()},checkDone:function(){this.inflight||this.oncomplete()}},e.Loader=r}),HTMLImports.addModule(function(e){var t=function(e){this.addCallback=e,this.mo=new MutationObserver(this.handler.bind(this))};t.prototype={handler:function(e){for(var t,n=0,r=e.length;r>n&&(t=e[n]);n++)"childList"===t.type&&t.addedNodes.length&&this.addedNodes(t.addedNodes)},addedNodes:function(e){this.addCallback&&this.addCallback(e);for(var t,n=0,r=e.length;r>n&&(t=e[n]);n++)t.children&&t.children.length&&this.addedNodes(t.children)},observe:function(e){this.mo.observe(e,{childList:!0,subtree:!0})}},e.Observer=t}),HTMLImports.addModule(function(e){function t(e){return"link"===e.localName&&e.rel===l}function n(e){var t=r(e);return"data:text/javascript;charset=utf-8,"+encodeURIComponent(t)}function r(e){return e.textContent+i(e)}function i(e){var t=e.ownerDocument;t.__importedScripts=t.__importedScripts||0;var n=e.ownerDocument.baseURI,r=t.__importedScripts?"-"+t.__importedScripts:"";return t.__importedScripts++,"\n//# sourceURL="+n+r+".js\n"}function o(e){var t=e.ownerDocument.createElement("style");return t.textContent=e.textContent,a.resolveUrlsInStyle(t),t}var a=e.path,s=e.rootDocument,u=e.flags,c=e.isIE,l=e.IMPORT_LINK_TYPE,h="link[rel="+l+"]",f={documentSelectors:h,importsSelectors:[h,"link[rel=stylesheet]","style","script:not([type])",'script[type="text/javascript"]'].join(","),map:{link:"parseLink",script:"parseScript",style:"parseStyle"},dynamicElements:[],parseNext:function(){var e=this.nextToParse();e&&this.parse(e)},parse:function(e){if(this.isParsed(e))return void(u.parse&&console.log("[%s] is already parsed",e.localName));var t=this[this.map[e.localName]];t&&(this.markParsing(e),t.call(this,e))},parseDynamic:function(e,t){this.dynamicElements.push(e),t||this.parseNext()},markParsing:function(e){u.parse&&console.log("parsing",e),this.parsingElement=e},markParsingComplete:function(e){e.__importParsed=!0,this.markDynamicParsingComplete(e),e.__importElement&&(e.__importElement.__importParsed=!0,this.markDynamicParsingComplete(e.__importElement)),this.parsingElement=null,u.parse&&console.log("completed",e)},markDynamicParsingComplete:function(e){var t=this.dynamicElements.indexOf(e);t>=0&&this.dynamicElements.splice(t,1)},parseImport:function(e){if(HTMLImports.__importsParsingHook&&HTMLImports.__importsParsingHook(e),e.import&&(e.import.__importParsed=!0),this.markParsingComplete(e),e.dispatchEvent(e.__resource&&!e.__error?new CustomEvent("load",{bubbles:!1}):new CustomEvent("error",{bubbles:!1})),e.__pending)for(var t;e.__pending.length;)t=e.__pending.shift(),t&&t({target:e});this.parseNext()},parseLink:function(e){t(e)?this.parseImport(e):(e.href=e.href,this.parseGeneric(e))},parseStyle:function(e){var t=e;e=o(e),t.__appliedElement=e,e.__importElement=t,this.parseGeneric(e)},parseGeneric:function(e){this.trackElement(e),this.addElementToDocument(e)},rootImportForElement:function(e){for(var t=e;t.ownerDocument.__importLink;)t=t.ownerDocument.__importLink;return t},addElementToDocument:function(e){var t=this.rootImportForElement(e.__importElement||e);t.parentNode.insertBefore(e,t)},trackElement:function(e,t){var n=this,r=function(r){t&&t(r),n.markParsingComplete(e),n.parseNext()};if(e.addEventListener("load",r),e.addEventListener("error",r),c&&"style"===e.localName){var i=!1;if(-1==e.textContent.indexOf("@import"))i=!0;else if(e.sheet){i=!0;for(var o,a=e.sheet.cssRules,s=a?a.length:0,u=0;s>u&&(o=a[u]);u++)o.type===CSSRule.IMPORT_RULE&&(i=i&&Boolean(o.styleSheet))}i&&e.dispatchEvent(new CustomEvent("load",{bubbles:!1}))}},parseScript:function(t){var r=document.createElement("script");r.__importElement=t,r.src=t.src?t.src:n(t),e.currentScript=t,this.trackElement(r,function(){r.parentNode.removeChild(r),e.currentScript=null}),this.addElementToDocument(r)},nextToParse:function(){return this._mayParse=[],!this.parsingElement&&(this.nextToParseInDoc(s)||this.nextToParseDynamic())},nextToParseInDoc:function(e,n){if(e&&this._mayParse.indexOf(e)<0){this._mayParse.push(e);for(var r,i=e.querySelectorAll(this.parseSelectorsForNode(e)),o=0,a=i.length;a>o&&(r=i[o]);o++)if(!this.isParsed(r))return this.hasResource(r)?t(r)?this.nextToParseInDoc(r.import,r):r:void 0}return n},nextToParseDynamic:function(){return this.dynamicElements[0]},parseSelectorsForNode:function(e){var t=e.ownerDocument||e;return t===s?this.documentSelectors:this.importsSelectors},isParsed:function(e){return e.__importParsed},needsDynamicParsing:function(e){return this.dynamicElements.indexOf(e)>=0},hasResource:function(e){return t(e)&&void 0===e.import?!1:!0}};e.parser=f,e.IMPORT_SELECTOR=h}),HTMLImports.addModule(function(e){function t(e){return n(e,a)}function n(e,t){return"link"===e.localName&&e.getAttribute("rel")===t}function r(e){return!!Object.getOwnPropertyDescriptor(e,"baseURI")}function i(e,t){var n=document.implementation.createHTMLDocument(a);n._URL=t;var i=n.createElement("base");i.setAttribute("href",t),n.baseURI||r(n)||Object.defineProperty(n,"baseURI",{value:t});var o=n.createElement("meta");return o.setAttribute("charset","utf-8"),n.head.appendChild(o),n.head.appendChild(i),n.body.innerHTML=e,window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(n),n}var o=e.flags,a=e.IMPORT_LINK_TYPE,s=e.IMPORT_SELECTOR,u=e.rootDocument,c=e.Loader,l=e.Observer,h=e.parser,f={documents:{},documentPreloadSelectors:s,importsPreloadSelectors:[s].join(","),loadNode:function(e){d.addNode(e)},loadSubtree:function(e){var t=this.marshalNodes(e);d.addNodes(t)},marshalNodes:function(e){return e.querySelectorAll(this.loadSelectorsForNode(e))},loadSelectorsForNode:function(e){var t=e.ownerDocument||e;return t===u?this.documentPreloadSelectors:this.importsPreloadSelectors},loaded:function(e,n,r,a,s){if(o.load&&console.log("loaded",e,n),n.__resource=r,n.__error=a,t(n)){var u=this.documents[e];void 0===u&&(u=a?null:i(r,s||e),u&&(u.__importLink=n,this.bootDocument(u)),this.documents[e]=u),n.import=u}h.parseNext()},bootDocument:function(e){this.loadSubtree(e),this.observer.observe(e),h.parseNext()},loadedAll:function(){h.parseNext()}},d=new c(f.loaded.bind(f),f.loadedAll.bind(f));if(f.observer=new l,!document.baseURI){var p={get:function(){var e=document.querySelector("base");return e?e.href:window.location.href},configurable:!0};Object.defineProperty(document,"baseURI",p),Object.defineProperty(u,"baseURI",p)}e.importer=f,e.importLoader=d}),HTMLImports.addModule(function(e){var t=e.parser,n=e.importer,r={added:function(e){for(var r,i,o,a,s=0,u=e.length;u>s&&(a=e[s]);s++)r||(r=a.ownerDocument,i=t.isParsed(r)),o=this.shouldLoadNode(a),o&&n.loadNode(a),this.shouldParseNode(a)&&i&&t.parseDynamic(a,o)},shouldLoadNode:function(e){return 1===e.nodeType&&i.call(e,n.loadSelectorsForNode(e))},shouldParseNode:function(e){return 1===e.nodeType&&i.call(e,t.parseSelectorsForNode(e))}};n.observer.addCallback=r.added.bind(r);var i=HTMLElement.prototype.matches||HTMLElement.prototype.matchesSelector||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector}),function(e){function t(){HTMLImports.importer.bootDocument(i)}var n=e.initializeModules,r=e.isIE;if(!e.useNative){r&&"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,Boolean(t.bubbles),Boolean(t.cancelable),t.detail),n},window.CustomEvent.prototype=window.Event.prototype),n();var i=e.rootDocument;"complete"===document.readyState||"interactive"===document.readyState&&!window.attachEvent?t():document.addEventListener("DOMContentLoaded",t)}}(HTMLImports),window.CustomElements=window.CustomElements||{flags:{}},function(e){var t=e.flags,n=[],r=function(e){n.push(e)},i=function(){n.forEach(function(t){t(e)})};e.addModule=r,e.initializeModules=i,e.hasNative=Boolean(document.registerElement),e.useNative=!t.register&&e.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||HTMLImports.useNative)}(CustomElements),CustomElements.addModule(function(e){function t(e,t){n(e,function(e){return t(e)?!0:void r(e,t)}),r(e,t)}function n(e,t,r){var i=e.firstElementChild;if(!i)for(i=e.firstChild;i&&i.nodeType!==Node.ELEMENT_NODE;)i=i.nextSibling;for(;i;)t(i,r)!==!0&&n(i,t,r),i=i.nextElementSibling;return null}function r(e,n){for(var r=e.shadowRoot;r;)t(r,n),r=r.olderShadowRoot}function i(e,t){o(e,t,[])}function o(e,t,n){if(e=wrap(e),!(n.indexOf(e)>=0)){n.push(e);for(var r,i=e.querySelectorAll("link[rel="+a+"]"),s=0,u=i.length;u>s&&(r=i[s]);s++)r.import&&o(r.import,t,n);t(e)}}var a=window.HTMLImports?HTMLImports.IMPORT_LINK_TYPE:"none";e.forDocumentTree=i,e.forSubtree=t}),CustomElements.addModule(function(e){function t(e){return n(e)||r(e)}function n(t){return e.upgrade(t)?!0:void s(t)}function r(e){w(e,function(e){return n(e)?!0:void 0})}function i(e){s(e),f(e)&&w(e,function(e){s(e)})}function o(e){T.push(e),x||(x=!0,setTimeout(a))}function a(){x=!1;for(var e,t=T,n=0,r=t.length;r>n&&(e=t[n]);n++)e();T=[]}function s(e){E?o(function(){u(e)}):u(e)}function u(e){e.__upgraded__&&(e.attachedCallback||e.detachedCallback)&&!e.__attached&&f(e)&&(e.__attached=!0,e.attachedCallback&&e.attachedCallback())}function c(e){l(e),w(e,function(e){l(e)})}function l(e){E?o(function(){h(e)}):h(e)}function h(e){e.__upgraded__&&(e.attachedCallback||e.detachedCallback)&&e.__attached&&!f(e)&&(e.__attached=!1,e.detachedCallback&&e.detachedCallback())}function f(e){for(var t=e,n=wrap(document);t;){if(t==n)return!0;t=t.parentNode||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host}}function d(e){if(e.shadowRoot&&!e.shadowRoot.__watched){y.dom&&console.log("watching shadow-root for: ",e.localName);for(var t=e.shadowRoot;t;)v(t),t=t.olderShadowRoot}}function p(e){if(y.dom){var n=e[0];if(n&&"childList"===n.type&&n.addedNodes&&n.addedNodes){for(var r=n.addedNodes[0];r&&r!==document&&!r.host;)r=r.parentNode;var i=r&&(r.URL||r._URL||r.host&&r.host.localName)||"";i=i.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",e.length,i||"")}e.forEach(function(e){"childList"===e.type&&(C(e.addedNodes,function(e){e.localName&&t(e)}),C(e.removedNodes,function(e){e.localName&&c(e)}))}),y.dom&&console.groupEnd()}function m(e){for(e=wrap(e),e||(e=wrap(document));e.parentNode;)e=e.parentNode;var t=e.__observer;t&&(p(t.takeRecords()),a())}function v(e){if(!e.__observer){var t=new MutationObserver(p);t.observe(e,{childList:!0,subtree:!0}),e.__observer=t}}function g(e){e=wrap(e),y.dom&&console.group("upgradeDocument: ",e.baseURI.split("/").pop()),t(e),v(e),y.dom&&console.groupEnd()}function b(e){_(e,g)}var y=e.flags,w=e.forSubtree,_=e.forDocumentTree,E=!window.MutationObserver||window.MutationObserver===window.JsMutationObserver;e.hasPolyfillMutations=E;var x=!1,T=[],C=Array.prototype.forEach.call.bind(Array.prototype.forEach),N=Element.prototype.createShadowRoot;N&&(Element.prototype.createShadowRoot=function(){var e=N.call(this);return CustomElements.watchShadow(this),e}),e.watchShadow=d,e.upgradeDocumentTree=b,e.upgradeSubtree=r,e.upgradeAll=t,e.attachedNode=i,e.takeRecords=m}),CustomElements.addModule(function(e){function t(t){if(!t.__upgraded__&&t.nodeType===Node.ELEMENT_NODE){var r=t.getAttribute("is"),i=e.getRegisteredDefinition(r||t.localName);if(i){if(r&&i.tag==t.localName)return n(t,i);if(!r&&!i.extends)return n(t,i)}}}function n(t,n){return a.upgrade&&console.group("upgrade:",t.localName),n.is&&t.setAttribute("is",n.is),r(t,n),t.__upgraded__=!0,o(t),e.attachedNode(t),e.upgradeSubtree(t),a.upgrade&&console.groupEnd(),t}function r(e,t){Object.__proto__?e.__proto__=t.prototype:(i(e,t.prototype,t.native),e.__proto__=t.prototype)}function i(e,t,n){for(var r={},i=t;i!==n&&i!==HTMLElement.prototype;){for(var o,a=Object.getOwnPropertyNames(i),s=0;o=a[s];s++)r[o]||(Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(i,o)),r[o]=1);i=Object.getPrototypeOf(i)}}function o(e){e.createdCallback&&e.createdCallback()}var a=e.flags;e.upgrade=t,e.upgradeWithDefinition=n,e.implementPrototype=r}),CustomElements.addModule(function(e){function t(t,r){var u=r||{};if(!t)throw new Error("document.registerElement: first argument `name` must not be empty");if(t.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(t)+"'.");if(i(t))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(t)+"'. The type name is invalid.");if(c(t))throw new Error("DuplicateDefinitionError: a type with name '"+String(t)+"' is already registered");return u.prototype||(u.prototype=Object.create(HTMLElement.prototype)),u.__name=t.toLowerCase(),u.lifecycle=u.lifecycle||{},u.ancestry=o(u.extends),a(u),s(u),n(u.prototype),l(u.__name,u),u.ctor=h(u),u.ctor.prototype=u.prototype,u.prototype.constructor=u.ctor,e.ready&&g(document),u.ctor}function n(e){if(!e.setAttribute._polyfilled){var t=e.setAttribute;e.setAttribute=function(e,n){r.call(this,e,n,t)};var n=e.removeAttribute;e.removeAttribute=function(e){r.call(this,e,null,n)},e.setAttribute._polyfilled=!0}}function r(e,t,n){e=e.toLowerCase();var r=this.getAttribute(e);n.apply(this,arguments);var i=this.getAttribute(e);this.attributeChangedCallback&&i!==r&&this.attributeChangedCallback(e,r,i)}function i(e){for(var t=0;t<E.length;t++)if(e===E[t])return!0}function o(e){var t=c(e);return t?o(t.extends).concat([t]):[]}function a(e){for(var t,n=e.extends,r=0;t=e.ancestry[r];r++)n=t.is&&t.tag;e.tag=n||e.__name,n&&(e.is=e.__name)}function s(e){if(!Object.__proto__){var t=HTMLElement.prototype;if(e.is){var n=document.createElement(e.tag),r=Object.getPrototypeOf(n);r===e.prototype&&(t=r)}for(var i,o=e.prototype;o&&o!==t;)i=Object.getPrototypeOf(o),o.__proto__=i,o=i;e.native=t
}}function u(e){return y(C(e.tag),e)}function c(e){return e?x[e.toLowerCase()]:void 0}function l(e,t){x[e]=t}function h(e){return function(){return u(e)}}function f(e,t,n){return e===T?d(t,n):N(e,t)}function d(e,t){var n=c(t||e);if(n){if(e==n.tag&&t==n.is)return new n.ctor;if(!t&&!n.is)return new n.ctor}var r;return t?(r=d(e),r.setAttribute("is",t),r):(r=C(e),e.indexOf("-")>=0&&w(r,HTMLElement),r)}function p(e,t){var n=e[t];e[t]=function(){var e=n.apply(this,arguments);return b(e),e}}var m,v=e.isIE11OrOlder,g=e.upgradeDocumentTree,b=e.upgradeAll,y=e.upgradeWithDefinition,w=e.implementPrototype,_=e.useNative,E=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],x={},T="http://www.w3.org/1999/xhtml",C=document.createElement.bind(document),N=document.createElementNS.bind(document);m=Object.__proto__||_?function(e,t){return e instanceof t}:function(e,t){for(var n=e;n;){if(n===t.prototype)return!0;n=n.__proto__}return!1},p(Node.prototype,"cloneNode"),p(document,"importNode"),v&&!function(){var e=document.importNode;document.importNode=function(){var t=e.apply(document,arguments);if(t.nodeType==t.DOCUMENT_FRAGMENT_NODE){var n=document.createDocumentFragment();return n.appendChild(t),n}return t}}(),document.registerElement=t,document.createElement=d,document.createElementNS=f,e.registry=x,e.instanceof=m,e.reservedTagList=E,e.getRegisteredDefinition=c,document.register=document.registerElement}),function(e){function t(){a(wrap(document)),window.HTMLImports&&(HTMLImports.__importsParsingHook=function(e){a(wrap(e.import))}),CustomElements.ready=!0,setTimeout(function(){CustomElements.readyTime=Date.now(),window.HTMLImports&&(CustomElements.elapsed=CustomElements.readyTime-HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})}var n=e.useNative,r=e.initializeModules,i=/Trident/.test(navigator.userAgent);if(n){var o=function(){};e.watchShadow=o,e.upgrade=o,e.upgradeAll=o,e.upgradeDocumentTree=o,e.upgradeSubtree=o,e.takeRecords=o,e.instanceof=function(e,t){return e instanceof t}}else r();var a=e.upgradeDocumentTree;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(e){return e}),i&&"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,Boolean(t.bubbles),Boolean(t.cancelable),t.detail),n},window.CustomEvent.prototype=window.Event.prototype),"complete"===document.readyState||e.flags.eager)t();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var s=window.HTMLImports&&!HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(s,t)}else t();e.isIE11OrOlder=i}(window.CustomElements),"undefined"==typeof HTMLTemplateElement&&!function(){var e="template";HTMLTemplateElement=function(){},HTMLTemplateElement.prototype=Object.create(HTMLElement.prototype),HTMLTemplateElement.decorate=function(e){if(!e.content){e.content=e.ownerDocument.createDocumentFragment();for(var t;t=e.firstChild;)e.content.appendChild(t)}},HTMLTemplateElement.bootstrap=function(t){for(var n,r=t.querySelectorAll(e),i=0,o=r.length;o>i&&(n=r[i]);i++)HTMLTemplateElement.decorate(n)},addEventListener("DOMContentLoaded",function(){HTMLTemplateElement.bootstrap(document)})}(),function(){var e=document.createElement("style");e.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var t=document.querySelector("head");t.insertBefore(e,t.firstChild)}(window.WebComponents),function(){"use strict";function e(){var e=arguments,t=e[0];if("string"!=typeof t){var r=document._currentScript;t=r.parentNode.getAttribute("name"),e.unshift(t)}n.push(e)}function t(e){window.flushDeclaration=function(){throw new Error("you may load Flipper twice")},e&&n.forEach(function(t){try{e.apply(null,t)}catch(n){var r=t[0];console.log("falied to register element: "+r,"caused by"),console.log(n)}}),n=null,delete window.FlipperPolyfill}var n=[];window.Flipper={register:e},window.FlipperPolyfill={flushDeclaration:t}}(),function(e){function t(e,t){return function(){e.apply(t,arguments)}}function n(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(e,t(i,this),t(o,this))}function r(e){var t=this;return null===this._state?void this._deferreds.push(e):void c(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var r;try{r=n(t._value)}catch(i){return void e.reject(i)}e.resolve(r)})}function i(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void u(t(n,e),t(i,this),t(o,this))}this._state=!0,this._value=e,a.call(this)}catch(r){o.call(this,r)}}function o(e){this._state=!1,this._value=e,a.call(this)}function a(){for(var e=0,t=this._deferreds.length;t>e;e++)r.call(this,this._deferreds[e]);this._deferreds=null}function s(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function u(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(i){if(r)return;r=!0,n(i)}}var c=n.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},l=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};n.prototype["catch"]=function(e){return this.then(null,e)},n.prototype.then=function(e,t){var i=this;return new n(function(n,o){r.call(i,new s(e,t,n,o))})},n.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&l(arguments[0])?arguments[0]:arguments);return new n(function(t,n){function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(o,e)},n)}e[o]=a,0===--i&&t(e)}catch(u){n(u)}}if(0===e.length)return t([]);for(var i=e.length,o=0;o<e.length;o++)r(o,e[o])})},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n(function(t){t(e)})},n.reject=function(e){return new n(function(t,n){n(e)})},n.race=function(e){return new n(function(t,n){for(var r=0,i=e.length;i>r;r++)e[r].then(t,n)})},"undefined"!=typeof module&&module.exports?module.exports=n:e.Promise||(e.Promise=n)}(this),function(){"use strict";function e(e){try{return e.sentinel=0,0===Object.getOwnPropertyDescriptor(e,"sentinel").value}catch(t){return!1}}function t(e,t){function n(e){if("string"!=typeof e||!e)throw new Error("view id has wrong format")}if("string"!=typeof e||!t)throw new Error("template engine arg have wrong format");if(J[e])throw new Error("template engine ["+e+"] is already registered");if("function"!=typeof t.render)throw new Error("could not found render method for engine: "+e);var r={};J[e]={hasView:function(e){return n(e),!!r[e]},getView:function(e){return n(e),r[e]},addView:function(e,t){if(n(e),"string"!=typeof t)throw new Error("view content must be string");r[e]=t},renderView:function(i,o,a){n(i);var s=r[i];if(!s)throw new Error('could not found view "'+i+'" on engine '+e);return a.viewId=i,t.render(s,o,a)}}}function n(e){if(!J[e])throw new Error("could not found the template engine: "+e);return J[e]}function r(){return tt+=1}function i(e){var t=r();return K[t]=e,et[t]=0,t}function o(e){return K[e]}function a(e){e&&void 0!==K[e]&&(delete K[e],delete et[e])}function s(e){void 0!==et[e]&&(et[e]+=1)}function u(e){void 0!==et[e]&&(et[e]-=1,et[e]<=0&&a(e))}function c(e){var t,n={};return t=new Promise(function(t,r){n.name=e||"none",n.resolve=t,n.reject=r}),V.mixin(t,n),t}function l(){this.countOfProto=nt,this.proto={},this.countOfModules=nt,this.modules={},this.views={},this.promises={proto:c("proto"),modules:c("modules"),views:c("views")},this.promiseAll=Promise.all([this.promises.proto,this.promises.modules,this.promises.views]).then(function(){return this}),this.resolveViews()}function h(e,t){if(0===e)throw new Error("component declaration ["+t+"] is already registered")}function f(e,t){0===e&&t()}function d(e){if(e.status===rt.INITIALIZED)throw new Error("component "+e.name+" is already registered")}function p(e,t,n){V.each(n,function(n){t[n]&&(e[n]=t[n])})}function m(e,t){function n(e){var t=e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()});return"-"===t.charAt(0)?t.substr(1):t}function r(e){return e.substr(e.length-o.length)}var i=e.watchers,o="Changed";V.each(t,function(e,t){if(r(t)&&"function"==typeof e){var a=n(t.substr(0,t.length-o.length));i[a]=t}})}function v(e,t){"string"==typeof t.template&&e.addView(t.template,"index"),"object"==typeof t.template&&V.each(t.template,function(t,n){e.addView(t,n)})}function g(e,t){t.style&&(e.style=t.style)}function b(e,t){var n=e.elementProto;V.each(t,function(e,r){var i=V.getDescriptor(t,r);"model"===r?n.model=t.model:V.contains(it,r)?(V.defineProperty(n.__flipper_lifecycle__,r,i),V.contains(ot,r)&&V.defineProperty(n,r,i)):V.defineProperty(n,r,i)})}function y(e,t){return"function"==typeof e.__flipper_lifecycle__[t]}function w(e,t,n){return e.__flipper_lifecycle__[t].apply(e,n||[])}function _(e,t,n){return y(e,t)?w(e,t,n):void 0}function E(e,t){V.event.trigger(e,t);var n=e.__flipper_when__;n&&n[t]&&V.each(n[t],function(t){"function"==typeof t&&t.call(e)})}function x(e){function t(t){var n=e[t];return function(){n.call(e,this,arguments)}}var n=window.HTMLElement||window.Element,r=V.createObject(n.prototype);return r.__flipper_lifecycle__={},V.defineProperties(r,{model:{value:void 0,writable:!0},modelId:{value:"",writable:!0},getView:{value:e.getView.bind(e)},renderView:{value:function(t,n,r){"object"==typeof t&&(r=n,n=t,t="index"),r=r||{},r.element=this;var i=this.commands;return"function"==typeof i&&(i=i.call(this)),"object"==typeof i&&(r.commands?V.mixin(r.commands,i):r.commands=i),e.renderView(t,n,r)}},refresh:{value:function(t,n){function r(){return o?e.handleElement(a):i?e.fetchModel(a,i).then(function(){return e.renderNode(a)}):e.renderNode(a)}var i,o=!1;"function"==typeof t?n=t:t===!0?o=!0:"object"==typeof t&&(i=t),"function"!=typeof n&&(n=function(){});var a=this,s=e.renderComplete.bind(e,a),u=function(){V.event.trigger(a,"refresh")};return Promise.resolve().then(e.renderBegin.bind(e,a)).then(r).then(e.renderSuccess.bind(e,a)).then(n.bind(a))["catch"](e.renderFail.bind(e,a)).then(s,s).then(u)}},createdCallback:{value:t("createdCallback")},attachedCallback:{value:t("attachedCallback")},detachedCallback:{value:t("detachedCallback")},attributeChangedCallback:{value:t("attributeChangedCallback")}}),r}function T(e){this.name=e,this.status=rt.INITIALIZING,this.elementProto=x(this),this.definition=new l,this.templateEngine="default",this.injectionMode="light-dom",this.views={},this.style="",this.helpers={},this.watchers={},this.definition.ready(this.initialize.bind(this),this.markFailed.bind(this))}function C(e,t){e=e.toLowerCase();var n=at[e];n&&n.isReady()?t(n):(st[e]||(st[e]=[]),st[e].push(t))}function N(e){var t=at[e];if(t||(t=at[e]=new B.Component(e),t.on("initialized",function(){st[e]&&(V.each(st[e],function(e){e(t)}),st[e]=null)})),t.isReady())throw new Error("component "+t.name+" is already registered");return at[e]}function I(){return document.baseURI}function L(e){var t=e.ownerDocument?e.ownerDocument.baseURI:"";return t||I()}function S(){return document._currentScript||document.currentScript}function j(){var e=S();return e?e.parentNode:void 0}function O(){var e=S();return e?e.baseURI||e.ownerDocument.baseURI:I()}function k(){var e=j();return e?e.getAttribute("name"):""}function M(e,t,n){return V.isArray(e)?(n=t,t=e,e=k()):"object"==typeof e||void 0===e?(n=e,t=void 0,e=k()):"string"!=typeof e||V.isArray(t)||(n=t,t=void 0),{name:e,dependencies:t,elementProto:n}}function P(e){function t(){var t=[];V.eachChildNodes(e,function(e){return e.tagName&&"link"===e.tagName.toLowerCase()&&"stylesheet"===e.getAttribute("rel")},function(e){t.push(e)}),V.each(t,function(t){var n=new URL(t.getAttribute("href"),r);i+='@import "'+n+'";',e.removeChild(t)})}function n(){var t=[];V.eachChildNodes(e,function(e){return e.tagName&&"style"===e.tagName.toLowerCase()},function(e){t.push(e)}),V.each(t,function(t){var n=t.innerHTML;i+=n,e.removeChild(t)})}var r=L(e),i="";return t(),n(),i}function D(e){if(!e.isReady()){var t=setTimeout(function(){if(!e.isReady())throw e.initialize(),new Error("component "+e.name+" is initialized automatically, forgot [noscript] attribute? ")},1e4);e.on("initialized",function(){clearTimeout(t)})}}function A(e,t){function n(e){s.mixinProto(i),s.mixinModules(e),t?(s.resolveProto(),s.resolveModules()):D(a)}var r=e.name,i=e.elementProto,o=e.dependencies;if(!r)throw new Error("component name could not be inferred.");var a=N(r),s=a.definition;if(!i)return void a.markFailed("component ["+r+"] prototype could not be inferred.");if(o){var u=O();V.each(o,function(e,t){"."===e.charAt(0)&&(e=V.resolveUri(e,u),o[t]=e)}),B.require.check()?B.require(o,{success:function(){n(arguments)},error:function(e){var t="error";e&&e.error&&e.error.exception&&(t=e.error.exception),a.markFailed(t)}}):a.markFailed("could not found the global module loader")}else n()}function R(e,t,n){var r=M(e,t,n),i=!0,o=j(),a=o?o.tagName.toLowerCase():"";a===B.configs.declarationTag&&(i=!1),A(r,i)}function q(e){var t,n;t={definitionEle:e,style:P(e),templateEngine:e.getAttribute("template-engine"),injectionMode:e.getAttribute("injection-mode")},n={name:e.getAttribute("name"),dependencies:void 0,elementProto:t};var r=!1;e.hasAttribute("noscript")&&(r=!0),A(n,r)}function $(e){return e&&e.tagName&&V.isCustomTag(e.tagName)}function H(e,t,n){function r(t){if(V.debug(t,"has flag on bind",t.__flipper__),t)if(t.initialized){if("success"===e&&"success"!==t.status)return;if("error"===e&&"error"!==t.status)return;n.call(t,t.reason||void 0)}else{t.__flipper_when__||(t.__flipper_when__={});var r=t.__flipper_when__;r[e]||(r[e]=[]),r[e].push(n)}}if(void 0!==t&&null!==t&&("string"!=typeof t&&t.length||(t=[t]),"function"==typeof n))for(var i=0,o=t.length;o>i;i+=1)V.handleNode(t[i],r)}function z(){return B}if(Object.defineProperty&&!document._currentScript){var U={get:function(){var e=document.currentScript||("complete"!==document.readyState?document.scripts[document.scripts.length-1]:null);return e},configurable:!0};Object.defineProperty(document,"_currentScript",U)}Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i});var F={templateEngine:"default",injectionMode:"light-dom",declarationTag:"web-component"},B={version:"@@VERSION@@",configs:F,useNative:!!document.registerElement};B.config=function(e,t){if("object"==typeof e&&1===arguments.length)V.mixin(F,e);else{if("string"!=typeof e||2!==arguments.length)throw new Error("unsupoorted config type. key: "+e+", value: "+t);F[e]=t}};var V={};V.noop=function(){},V.each=function(e,t){if(V.isArray(e))for(var n=0,r=e.length;r>n;n+=1)t(e[n],n);else for(var i in e)e.hasOwnProperty(i)&&t(e[i],i)};var G=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;V.trim=function(e){return"string"==typeof e?e.trim?e.trim():e.replace(G,""):e},V.format=function(e){var t=0;e.replace(/%s/,function(){return t+=1,arguments[t]||""})},V.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},V.contains=function(e,t){if(e.lastIndexOf)return e.lastIndexOf(t)>-1;for(var n=0,r=e.length;r>n;n+=1)if(t===e[n])return!0;return!1},V.isPromise=function(e){return e&&"function"==typeof e.then},V.isElement=function(e){return!(!e||1!==e.nodeType)};var Q=!1;V.debug=function(){if(Q){var e=V.format.apply(V,arguments);"function"==typeof console.log&&console.log(e)}},V.log=function(){var e=V.format.apply(V,arguments);"function"==typeof console.log&&console.log(e)},V.error=function(e){console.error(e.stack||e)};var Y=e({})&&e(document.createElement("div"));V.mixin=function(e,t){if(e)if(Y)V.each(Object.getOwnPropertyNames(t),function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))});else for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},V.defineProperty=function(e,t,n){Y?Object.defineProperty(e,t,n):e[t]=n.value},V.getDescriptor=function(e,t){return Y?Object.getOwnPropertyDescriptor(e,t):{value:e[t]}},V.defineProperties=function(e,t){Y?Object.defineProperties(e,t):V.each(t,function(t,n){V.defineProperty(e,n,t)})},V.createObject=Object.create&&Y?Object.create:function(){var e=function(){};return function(t,n){if(arguments.length>1)throw Error("Second argument not supported");e.prototype=t;var r=new e;return e.prototype=null,n&&V.defineProperties(r,n),r}}(),V.resolveUri=function(e,t){var n=new URL(e,t);return n.href},V.eachChildNodes=function(e,t,n){var r,i,o,a="function"==typeof t;if(e.childNodes)for(i=0,o=e.childNodes.length;o>i;i+=1)r=e.childNodes[i],(!a||t(r))&&n(r)},V.handleNode=function(e,t){if(void 0!==e&&null!==e)if("string"==typeof e&&(e=V.query.all(e)),void 0!==e.length)for(var n=0,r=e.length;r>n;n+=1)t(e[n]);else t(e)},V.isCustomTag=function(e){return e&&e.lastIndexOf("-")>=0},V.requestjQuery=function(e){if(!window.jQuery)throw new Error("must include jQuery on IE browser");return window.jQuery(e)};var X=!!window.CustomEvent;if(X)try{new window.CustomEvent("xyz")}catch(Z){X=!1}var W=function(){function e(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var n=e.indexOf("Trident/");if(n>0){var r=e.indexOf("rv:");return parseInt(e.substring(r+3,e.indexOf(".",r)),10)}var i=e.indexOf("Edge/");return i>0?parseInt(e.substring(i+5,e.indexOf(".",i)),10):!1}return e()}();V.event={on:function(e,t,n){X&&!W?e.addEventListener(t,n,!1):V.requestjQuery(e).on(t,n)},trigger:function(e,t){if(X&&!W){var n=new CustomEvent(t);e.dispatchEvent(n)}else V.requestjQuery(e).trigger(t)},halt:function(e){e=e||window.event,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault?e.preventDefault():e.returnValue=!1)}};V.cloneNode=function(e){var t,n,r=e.tagName.toLowerCase();if(t=document.createElement(r),e.hasAttributes()){n=e.attributes;for(var i=0,o=n.length;o>i;i+=1)t.setAttribute(n[i].name,n[i].value)}return e.innerHTML&&e.innerHTML.length&&(t.innerHTML=e.innerHTML),t},V.query=function(e,t){return 1===arguments.length&&(t=e,e=document),e.querySelector?e.querySelector(t):V.requestjQuery(e).find(t)[0]},V.query.all=function(e,t){if(1===arguments.length&&(t=e,e=document),e.querySelectorAll)return e.querySelectorAll(t);var n=[];return V.requestjQuery(e).find(t).each(function(){n.push(this)}),n};var J={};t("default",{render:function(e){return e}}),B.registerTemplateEngine=t,B.getTemplateEngine=n,B.require=function(){window.require.apply(null,arguments)},B.require.check=function(){return!!window.require};var K={},et={},tt=0;B.dataCenter={_warehouse:K,requestSpace:i,removeSpace:a,getSpace:o,linkSpace:s,unlinkSpace:u},B.requestSpace=i,B.removeSpace=a;var nt=2;l.prototype={ready:function(e,t){return this.promiseAll.then(e)["catch"](t)},mixinProto:function(e){function t(e){h(n.countOfProto,"element prototype"),V.mixin(n.proto,e),n.countOfProto-=1,f(n.countOfProto,n.resolveProto.bind(n))}var n=this;if("object"==typeof e)t(e);else{if("function"!=typeof e)throw new Error("element prototype has wrong format");n.promises.modules.then(function(n){var r=e.apply(null,n);t(r)})}},resolveProto:function(){this.promises.proto.resolve(this.proto)},mixinModules:function(e){var t=this;h(t.countOfModules,"element dependencies"),e&&(this.modules=e),this.countOfModules-=1,f(t.countOfModules,t.resolveModules.bind(t))},resolveModules:function(){this.promises.modules.resolve(this.modules)},rejectModules:function(e){this.promises.modules.reject(e)},resolveViews:function(){this.promises.views.resolve(this.views)}};var rt={ERROR:"ERROR",INITIALIZING:"INITIALIZING",INITIALIZED:"INITIALIZED"},it=["initialize","fetch","adapt","render","ready","destroy","fail"],ot=["fetch","adapt","render"];T.prototype={on:function(e,t){this.__events__||(this.__events__={}),this.__events__[e]||(this.__events__[e]=[]),this.__events__[e].push(t)},fire:function(e,t){var n=this;this.__events__&&this.__events__[e]&&V.each(this.__events__[e],function(e){e.apply(n,t||[])})},isReady:function(){return this.status===rt.INITIALIZED},prepare:function(e){d(this),e&&(b(this,e),p(this,e,["templateEngine","injectionMode","definitionEle","helpers"]),m(this,e),v(this,e),g(this,e))},initialize:function(){d(this),this.prepare(this.definition.proto),B.useNative&&document.registerElement(this.name,{prototype:this.elementProto}),B.useNative||document.createElement(this.name),this.status=rt.INITIALIZED,this.definition=null,this.fire("initialized")},transform:function(e,t){if(this.status===rt.INITIALIZING)this.on("initialized",function(){this.transform(e)});else if(this.status===rt.INITIALIZED&&!e.__flipper__){var n=V.cloneNode(e);n.__flipper_when__=e.__flipper_when__,e.parentNode.replaceChild(n,e),e=n,V.mixin(e,this.elementProto),e.createdCallback(),e.attachedCallback()}},markFailed:function(e){this.status=rt.ERROR,"string"==typeof e&&(e=new Error(e)),this.fire("initialized",[e]),V.error(e)},addView:function(e,t){this.views[t||"index"]=e+""},getView:function(e){var t;e=e||"index",this.views[e]&&(t=this.views[e]);var n=function(n){if((n.id||"index")===e&&(t=n.innerHTML,!t&&n.content&&n.content.cloneNode)){var r=document.createElement("div");r.appendChild(n.content.cloneNode(!0)),t=r.innerHTML}};return!t&&this.definitionEle&&(V.eachChildNodes(this.definitionEle,function(e){return e.tagName&&"template"===e.tagName.toLowerCase()},function(e){return n(e)}),t||V.eachChildNodes(this.definitionEle,function(e){return e.tagName&&"script"===e.tagName.toLowerCase()&&"template"===e.getAttribute("type")},function(e){return n(e)})),t||"index"!==e||(t=" "),t||""},renderView:function(e,t,n){e=e||"index";var r=B.getTemplateEngine(this.templateEngine),i=this.name+"-"+e;return r.hasView(i)||r.addView(i,this.getView(e)),r.renderView(i,t,n)},createdCallback:function(e){V.debug(e,"is created");var t=this.renderComplete.bind(this,e);Promise.resolve().then(this.renderBegin.bind(this,e)).then(this.initElement.bind(this,e)).then(this.handleElement.bind(this,e)).then(this.renderSuccess.bind(this,e))["catch"](this.renderFail.bind(this,e)).then(this.addStyle.bind(this,e)).then(t,t)},renderBegin:function(e){V.debug(e,"render begin"),e.setAttribute("unresolved",""),e.__flipper__=!0,V.debug(e,"has flipper flag",e.__flipper__)},initElement:function(e){return _(e,"initialize")},handleElement:function(e){return Promise.resolve().then(this.fetchModel.bind(this,e)).then(this.renderNode.bind(this,e))},fetchModel:function(e,t){var n,r;return t?(r="",n=t):y(e,"fetch")?(r="",n=w(e,"fetch")):e.hasAttribute("model-id")&&(r=e.getAttribute("model-id"),n=B.dataCenter.getSpace(r)),Promise.resolve(n).then(function(t){void 0!==t&&(e.model=t,r||(r=B.dataCenter.requestSpace(t)),B.dataCenter.linkSpace(r),e.modelId=r)})},renderNode:function(e){return y(e,"render")?w(e,"render"):Promise.resolve().then(this.formatModel.bind(this,e)).then(this.renderHTML.bind(this,e)).then(this.createTree.bind(this,e))},formatModel:function(e){return y(e,"adapt")?w(e,"adapt",[e.model]):e.model},renderHTML:function(e,t){var n="index",r=e.commands;return"function"==typeof r&&(r=r.call(e)),this.renderView(n,t,{element:e,commands:r})},createTree:function(e,t){var n="light-dom"===this.injectionMode||"light",r=n?e:e.createShadowRoot();r.innerHTML=t},addStyle:function(e){if(this.style&&this.style.length){var t=document.createElement("style");if(t.textContent=this.style,t.setAttribute("referance-to",this.name),e.shadowRoot&&e.shadowRoot.innerHTML)e.shadowRoot.appendChild(t);else{var n=V.query(e,'style[referance-to="'+this.name+'"]');n||(document.head||document.body).appendChild(t)}}},renderFail:function(e,t){V.debug(e,"render fail"),V.error(t);var n=_(e,"fail",[t]);return B.useNative||B.parse(e),Promise.resolve(n).then(function(){e.status="error",e.reason=t,E(e,"error")})},renderSuccess:function(e){V.debug(e,"render success"),B.useNative||B.parse(e);var t=_(e,"ready");return Promise.resolve(t).then(function(){e.status="success",e.removeAttribute("unresolved"),E(e,"success")})},renderComplete:function(e){V.debug(e,"render complete"),e.initialized=!0,E(e,"ready"),e.__flipper_when___&&(e.__flipper_when__=null,delete e.__flipper_when__)},detachedCallback:function(e){this.destroy(e)},destroy:function(e){_(e,"destroy"),e.modelId&&(B.dataCenter.unlinkSpace(e.modelId),e.modelId=void 0,e.model=void 0),V.event.trigger(e,"destroy")},attachedCallback:function(){},attributeChangedCallback:function(e,t){var n,r,i;"function"==typeof e.attributeChanged?e.attributeChanged.apply(e,t):(n=this.watchers,r=t[0],n[r]&&(i=e[n[r]],"function"==typeof i&&i.apply(e,Array.prototype.slice.call(t,1))))},setHelpers:function(e){this.helpers=e},getHelpers:function(){return this.helpers}},B.Component=T;var at={},st={};B.define=B.register=R,B.useNative&&document.registerElement(B.configs.declarationTag,{prototype:V.createObject(HTMLElement.prototype,{createdCallback:{value:function(){q(this)}}})}),window.FlipperPolyfill&&window.FlipperPolyfill.flushDeclaration(B.register.bind(B)),B.getComponent=function(e){return at[e.toLowerCase()]},B.hasComponent=function(e){return!!B.getComponent(e)},B.getComponentHelpers=function(e){var t=B.getComponent(e);return t?t.getHelpers():{}},B.components=at,B.init=function(e){function t(e){if(!$(e))return!1;if(e.initialized)return!1;if(e.initialing)return!1;var t=B.getComponent(e.tagName);t&&t.isReady()?t.transform(e):(e.initialing=!0,C(e.tagName,function(t){t.transform(e,!0),delete e.initialing}))}return B.useNative?!1:(V.handleNode(e,t),!0)},B.parse=function(e){return B.useNative?!1:void V.handleNode(e,function(e){V.eachChildNodes(e,void 0,function(e){$(e)?B.init(e):e.childNodes&&e.childNodes.length&&B.parse(e)})})},B.useNative||!function(){function e(e){(document.addEventListener||e&&"load"===e.type||"complete"===document.readyState)&&(t(),n=!0,B.parse(document.body))}function t(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",e,!1),window.removeEventListener("load",e,!1)):(document.detachEvent("onreadystatechange",e),window.detachEvent("onload",e))}var n=!1;if("complete"===document.readyState)setTimeout(e,1);else if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",e),window.attachEvent("onload",e);var r=!1;try{r=!window.frameElement&&document.documentElement}catch(i){}r&&r.doScroll&&!function o(){if(!n){try{r.doScroll("left")}catch(i){return setTimeout(o,50)}t(),e()}}()}}(),B.findShadow=function(e,t){return V.query.all(e.shadowRoot,t)},B.whenError=function(e,t){H("error",e,t)},B.whenSuccess=function(e,t){H("success",e,t)},B.whenReady=function(e,t){H("ready",e,t)},window.Flipper=z()}();var XTemplate=function(){var e,t,n,r,i,o,a,s,u,c,l={};return e=function(e){function t(){var e="";for(var t in r)e+=t+"|";return e=e.slice(0,-1),o=new RegExp(e,"g")}var n,r={"&":"&amp;",">":"&gt;","<":"&lt;","`":"&#x60;","/":"&#x2F;",'"':"&quot;","'":"&#x27;"},i=/[&<>"'`]/,o=t(),a=/\\?\{([^{}]+)\}/g,s="undefined"!=typeof global?global:window,u=Object.prototype.toString;return e=n={isArray:Array.isArray||function(e){return"[object Array]"===u.call(e)},keys:Object.keys||function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n},each:function(e,t,r){if(e){var i,o,a,s=0,u=e&&e.length,c=void 0===u||"[object Function]"===Object.prototype.toString.call(e);if(r=r||null,c)for(a=n.keys(e);s<a.length&&(i=a[s],t.call(r,e[i],i,e)!==!1);s++);else for(o=e[0];u>s&&t.call(r,o,s,e)!==!1;o=e[++s]);}return e},mix:function(e,t){if(t)for(var n in t)e[n]=t[n];return e},globalEval:function(e){s.execScript?s.execScript(e):!function(e){s.eval.call(s,e)}(e)},substitute:function(e,t,n){return"string"==typeof e&&t?e.replace(n||a,function(e,n){return"\\"===e.charAt(0)?e.slice(1):void 0===t[n]?"":t[n]}):e},escapeHtml:function(e){return e=""+e,i.test(e)?(e+"").replace(o,function(e){return r[e]}):e},merge:function(){for(var e=0,t=arguments.length,r={};t>e;e++){var i=arguments[e];i&&n.mix(r,i)}return r}}}(),t=function(e){function t(e,t,n){this.data=void 0!==e?e:{},n?(this.parent=n,this.root=n.root):(this.parent=void 0,this.root=this),this.affix=t||{},this.ready=!1}return t.prototype={isScope:1,constructor:t,setParent:function(e){this.parent=e,this.root=e.root},set:function(e,t){this.affix[e]=t},setData:function(e){this.data=e},getData:function(){return this.data},mix:function(e){var t=this.affix;for(var n in e)t[n]=e[n]},get:function(e){var t,n=this.data,r=this.affix;return null!=n&&(t=n[e]),void 0!==t?t:r[e]},resolveInternalOuter:function(e){var t,n=e[0],r=this,i=r;if("this"===n)t=r.data;else if("root"===n)i=i.root,t=i.data;else{if(!n)return[i.data];do t=i.get(n);while(void 0===t&&(i=i.parent))}return[void 0,t]},resolveInternal:function(e){var t=this.resolveInternalOuter(e);if(1===t.length)return t[0];var n,r=e.length,i=t[1];if(void 0===i)return void 0;for(n=1;r>n;n++){if(null==i)return i;i=i[e[n]]}return i},resolveLooseInternal:function(e){var t=this.resolveInternalOuter(e);if(1===t.length)return t[0];var n,r=e.length,i=t[1];for(n=1;null!=i&&r>n;n++)i=i[e[n]];return i},resolveUp:function(e){return this.parent&&this.parent.resolveInternal(e)},resolveLooseUp:function(e){return this.parent&&this.parent.resolveLooseInternal(e)},resolveOuter:function(e,t){var n,r=this,i=r;if(!t&&1===e.length){if(n=r.get(e[0]),void 0!==n)return[n];t=1}if(t)for(;i&&t--;)i=i.parent;return i?[void 0,i]:[void 0]},resolveLoose:function(e,t){var n=this.resolveOuter(e,t);return 1===n.length?n[0]:n[1].resolveLooseInternal(e)},resolve:function(e,t){var n=this.resolveOuter(e,t);return 1===n.length?n[0]:n[1].resolveInternal(e)}},e=t}(),n=function(t){function n(e,t,n){this.list=e,this.init(),this.next=t,this.ready=!1,this.tpl=n}function r(e,t){var r=this;r.config=t,r.head=new n(r,void 0),r.callback=e,this.init()}var i=e;return n.prototype={constructor:n,isBuffer:1,init:function(){this.data=""},append:function(e){return this.data+=e,this},write:function(e){if(null!=e){if(e.isBuffer)return e;this.data+=e}return this},writeEscaped:function(e){if(null!=e){if(e.isBuffer)return e;this.data+=i.escapeHtml(e)}return this},insert:function(){var e=this,t=e.list,r=e.tpl,i=new n(t,e.next,r),o=new n(t,i,r);return e.next=o,e.ready=!0,o},async:function(e){var t=this.insert(),n=t.next;return e(t),n},error:function(e){var t=this.list.callback;if(t){var n=this.tpl;if(n){e instanceof Error||(e=new Error(e));var r=n.name,i=n.pos.line,o="XTemplate error in file: "+r+" at line "+i+": ";e.stack=o+e.stack,e.message=o+e.message,e.xtpl={pos:{line:i},name:r}}this.list.callback=null,t(e,void 0)}},end:function(){var e=this;return e.list.callback&&(e.ready=!0,e.list.flush()),e}},r.prototype={constructor:r,init:function(){this.data=""},append:function(e){this.data+=e},end:function(){this.callback(null,this.data),this.callback=null},flush:function(){for(var e=this,t=e.head;t;){if(!t.ready)return void(e.head=t);this.data+=t.data,t=t.next}e.end()}},r.Buffer=n,t=r}(),r=function(e){function t(e,n,r,i){if(!e.length)return n;i=i||n,r=r||0;var o=e[0],a="t"+r;return["("+n+" != null ? ",t(e.slice(1),"("+a+"="+i+o+")",++r,a)," : ",i,")"].join("")}function n(e,n,r,i){return e?t(n.slice(1),r):i
}var r=/\\*"/g,i=/\\*'/g,o=[].push,a={};a.undefined=a["null"]=a["true"]=a["false"]=1;var s=e={genStackJudge:t,isGlobalId:function(e){return a[e.string]?1:0},chainedVariableRead:function(e,t,r,i,o,a){var u=s.convertIdPartsToRawAccessor(e,t,r),c=u.parts,l=c[0],h="";i&&(h="scope.root.");var f=h+"affix",d=h+"data",p=["(","(t=("+f+l+")) !== undefined ? ",r.length>1?n(a,c,"t",f+u.str):"t"," : "];return o?p=p.concat(["(","(t = "+d+l+") !== undefined ? ",r.length>1?n(a,c,"t",d+u.str):"t","  : ",a?"scope.resolveLooseUp("+u.arr+")":"scope.resolveUp("+u.arr+")",")"]):p.push(n(a,c,d+l,d+u.str)),p.push(")"),p.join("")},convertIdPartsToRawAccessor:function(e,t,n){var r,i,o,a,u,c=[],l=[],h="";for(r=0,i=n.length;i>r;r++)o=n[r],a=o.type,a?(u=e[a](o),s.pushToArray(t,u.source),"function"===a&&(h=1),l.push("["+u.exp+"]"),c.push(u.exp)):(l.push("."+o),c.push(s.wrapByDoubleQuote(o)));return{str:l.join(""),arr:"["+c.join(",")+"]",parts:l,funcRet:h,resolvedParts:c}},wrapByDoubleQuote:function(e){return'"'+e+'"'},wrapBySingleQuote:function(e){return"'"+e+"'"},joinArrayOfString:function(e){return s.wrapByDoubleQuote(e.join('","'))},escapeSingleQuoteInCodeString:function(e,t){return e.replace(t?r:i,function(e){return e.length%2&&(e="\\"+e),e})},escapeString:function(e,t){return e=t?s.escapeSingleQuoteInCodeString(e,0):e.replace(/\\/g,"\\\\").replace(/'/g,"\\'"),e=e.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")},pushToArray:function(e,t){t&&o.apply(e,t)}};return e}(),i=function(e){var t=function(e){function t(e,t){return t=t||1,e[e.length-t]}function n(e,t){for(var n in t)e[n]=t[n]}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e,t,n){if(e){var i,o,a,s=0;if(n=n||null,r(e))for(a=e.length,o=e[0];a>s&&t.call(n,o,s,e)!==!1;o=e[++s]);else for(i in e)if(t.call(n,e[i],i,e)===!1)break}}function o(e,t){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return!0;return!1}var a={},s={SHIFT_TYPE:1,REDUCE_TYPE:2,ACCEPT_TYPE:0,TYPE_INDEX:0,PRODUCTION_INDEX:1,TO_INDEX:2},u=function(e){var t=this;t.rules=[],n(t,e),t.resetInput(t.input,t.filename)};u.prototype={resetInput:function(e,t){n(this,{input:e,filename:t,matched:"",stateStack:[u.STATIC.INITIAL],match:"",text:"",firstLine:1,lineNumber:1,lastLine:1,firstColumn:1,lastColumn:1})},getCurrentRules:function(){var e=this,t=e.stateStack[e.stateStack.length-1],n=[];return e.mapState&&(t=e.mapState(t)),i(e.rules,function(e){var r=e.state||e[3];r?o(t,r)&&n.push(e):t===u.STATIC.INITIAL&&n.push(e)}),n},pushState:function(e){this.stateStack.push(e)},popState:function(e){e=e||1;for(var t;e--;)t=this.stateStack.pop();return t},showDebugInfo:function(){var e=this,t=u.STATIC.DEBUG_CONTEXT_LIMIT,n=e.matched,r=e.match,i=e.input;n=n.slice(0,n.length-r.length);var o=(n.length>t?"...":"")+n.slice(0-t).replace(/\n/g," "),a=r+i;return a=a.slice(0,t).replace(/\n/g," ")+(a.length>t?"...":""),o+a+"\n"+new Array(o.length+1).join("-")+"^"},mapSymbol:function(e){return this.symbolMap[e]},mapReverseSymbol:function(e){var t,n=this,r=n.symbolMap,i=n.reverseSymbolMap;if(!i&&r){i=n.reverseSymbolMap={};for(t in r)i[r[t]]=t}return i?i[e]:e},lex:function(){var t,r,i,o,a,s=this,c=s.input,l=s.getCurrentRules();if(s.match=s.text="",!c)return s.mapSymbol(u.STATIC.END_TAG);for(t=0;t<l.length;t++){r=l[t];var h=r.regexp||r[1],f=r.token||r[0],d=r.action||r[2]||e;if(i=c.match(h)){a=i[0].match(/\n.*/g),a&&(s.lineNumber+=a.length),n(s,{firstLine:s.lastLine,lastLine:s.lineNumber,firstColumn:s.lastColumn,lastColumn:a?a[a.length-1].length-1:s.lastColumn+i[0].length});var p;return p=s.match=i[0],s.matches=i,s.text=p,s.matched+=p,o=d&&d.call(s),o=o===e?f:s.mapSymbol(o),c=c.slice(p.length),s.input=c,o?o:s.lex()}}}},u.STATIC={INITIAL:"I",DEBUG_CONTEXT_LIMIT:20,END_TAG:"$EOF"};var c=new u({rules:[[0,/^[\s\S]*?(?={{)/,function(){var e,t=this,n=t.text,r=0;return(e=n.match(/\\+$/))&&(r=e[0].length),r%2?(t.pushState("et"),n=n.slice(0,-1)):t.pushState("t"),r&&(n=n.replace(/\\+$/g,function(e){return new Array(e.length/2+1).join("\\")})),t.text=n,"CONTENT"}],["b",/^[\s\S]+/,0],["b",/^[\s\S]{2,}?(?:(?={{)|$)/,function(){this.popState()},["et"]],["c",/^{{\{?(?:#|@)/,function(){var e=this,t=e.text;e.pushState(4===t.length?"p":"e")},["t"]],["d",/^{{\{?\//,function(){var e=this,t=e.text;e.pushState(4===t.length?"p":"e")},["t"]],["e",/^{{\s*else\s*}}/,function(){this.popState()},["t"]],[0,/^{{![\s\S]*?}}/,function(){this.popState()},["t"]],["b",/^{{%([\s\S]*?)%}}/,function(){this.text=this.matches[1]||"",this.popState()},["t"]],["f",/^{{\{?/,function(){var e=this,t=e.text;e.pushState(3===t.length?"p":"e")},["t"]],[0,/^\s+/,0,["p","e"]],["g",/^,/,0,["p","e"]],["h",/^}}}/,function(){this.popState(2)},["p"]],["h",/^}}/,function(){this.popState(2)},["e"]],["i",/^\(/,0,["p","e"]],["j",/^\)/,0,["p","e"]],["k",/^\|\|/,0,["p","e"]],["l",/^&&/,0,["p","e"]],["m",/^===/,0,["p","e"]],["n",/^!==/,0,["p","e"]],["o",/^>=/,0,["p","e"]],["p",/^<=/,0,["p","e"]],["q",/^>/,0,["p","e"]],["r",/^</,0,["p","e"]],["s",/^\+/,0,["p","e"]],["t",/^-/,0,["p","e"]],["u",/^\*/,0,["p","e"]],["v",/^\//,0,["p","e"]],["w",/^%/,0,["p","e"]],["x",/^!/,0,["p","e"]],["y",/^"(\\[\s\S]|[^\\"\n])*"/,function(){this.text=this.text.slice(1,-1).replace(/\\"/g,'"')},["p","e"]],["y",/^'(\\[\s\S]|[^\\'\n])*'/,function(){this.text=this.text.slice(1,-1).replace(/\\'/g,"'")},["p","e"]],["z",/^\d+(?:\.\d+)?(?:e-?\d+)?/i,0,["p","e"]],["aa",/^=/,0,["p","e"]],["ab",/^\.\./,function(){this.pushState("ws")},["p","e"]],["ac",/^\//,function(){this.popState()},["ws"]],["ac",/^\./,0,["p","e"]],["ad",/^\[/,0,["p","e"]],["ae",/^\]/,0,["p","e"]],["af",/^\{/,0,["p","e"]],["ag",/^\:/,0,["p","e"]],["ah",/^\}/,0,["p","e"]],["ab",/^[a-zA-Z_$][a-zA-Z0-9_$]*/,0,["p","e"]]]});return a.lexer=c,c.symbolMap={$EOF:"a",CONTENT:"b",OPEN_BLOCK:"c",OPEN_CLOSE_BLOCK:"d",INVERSE:"e",OPEN_TPL:"f",COMMA:"g",CLOSE:"h",L_PAREN:"i",R_PAREN:"j",OR:"k",AND:"l",LOGIC_EQUALS:"m",LOGIC_NOT_EQUALS:"n",GE:"o",LE:"p",GT:"q",LT:"r",PLUS:"s",MINUS:"t",MULTIPLY:"u",DIVIDE:"v",MODULUS:"w",NOT:"x",STRING:"y",NUMBER:"z",EQUALS:"aa",ID:"ab",SEP:"ac",L_BRACKET:"ad",R_BRACKET:"ae",L_BRACE:"af",COLON:"ag",R_BRACE:"ah",$START:"ai",program:"aj",statements:"ak",statement:"al","function":"am",id:"an",expression:"ao",params:"ap",hash:"aq",param:"ar",conditionalOrExpression:"as",listExpression:"at",objectExpression:"au",objectPart:"av",conditionalAndExpression:"aw",equalityExpression:"ax",relationalExpression:"ay",additiveExpression:"az",multiplicativeExpression:"ba",unaryExpression:"bb",primaryExpression:"bc",hashSegment:"bd",idSegments:"be"},a.productions=[["ai",["aj"]],["aj",["ak","e","ak"],function(){return new this.yy.ProgramNode({filename:this.lexer.filename,line:this.lexer.firstLine,col:this.lexer.firstColumn},this.$1,this.$3)}],["aj",["ak"],function(){return new this.yy.ProgramNode({filename:this.lexer.filename,line:this.lexer.firstLine,col:this.lexer.firstColumn},this.$1)}],["ak",["al"],function(){return[this.$1]}],["ak",["ak","al"],function(){this.$1.push(this.$2)}],["al",["c","am","h","aj","d","an","h"],function(){return new this.yy.BlockStatement({filename:this.lexer.filename,line:this.lexer.firstLine,col:this.lexer.firstColumn},this.$2,this.$4,this.$6,4!==this.$1.length)}],["al",["f","ao","h"],function(){return new this.yy.ExpressionStatement({filename:this.lexer.filename,line:this.lexer.firstLine,col:this.lexer.firstColumn},this.$2,3!==this.$1.length)}],["al",["b"],function(){return new this.yy.ContentStatement({filename:this.lexer.filename,line:this.lexer.firstLine,col:this.lexer.firstColumn},this.$1)}],["am",["an","i","ap","g","aq","j"],function(){return new this.yy.Function({filename:this.lexer.filename,line:this.lexer.firstLine,col:this.lexer.firstColumn},this.$1,this.$3,this.$5)}],["am",["an","i","ap","j"],function(){return new this.yy.Function({filename:this.lexer.filename,line:this.lexer.firstLine,col:this.lexer.firstColumn},this.$1,this.$3)}],["am",["an","i","aq","j"],function(){return new this.yy.Function({filename:this.lexer.filename,line:this.lexer.firstLine,col:this.lexer.firstColumn},this.$1,null,this.$3)}],["am",["an","i","j"],function(){return new this.yy.Function({filename:this.lexer.filename,line:this.lexer.firstLine,col:this.lexer.firstColumn},this.$1)}],["ap",["ap","g","ar"],function(){this.$1.push(this.$3)}],["ap",["ar"],function(){return[this.$1]}],["ar",["ao"]],["ao",["as"]],["ao",["ad","at","ae"],function(){return new this.yy.ArrayExpression(this.$2)}],["ao",["ad","ae"],function(){return new this.yy.ArrayExpression([])}],["ao",["af","au","ah"],function(){return new this.yy.ObjectExpression(this.$2)}],["ao",["af","ah"],function(){return new this.yy.ObjectExpression([])}],["av",["y","ag","ao"],function(){return[this.$1,this.$3]}],["av",["ab","ag","ao"],function(){return[this.$1,this.$3]}],["au",["av"],function(){return[this.$1]}],["au",["au","g","av"],function(){this.$1.push(this.$3)}],["at",["ao"],function(){return[this.$1]}],["at",["at","g","ao"],function(){this.$1.push(this.$3)}],["as",["aw"]],["as",["as","k","aw"],function(){return new this.yy.ConditionalOrExpression(this.$1,this.$3)}],["aw",["ax"]],["aw",["aw","l","ax"],function(){return new this.yy.ConditionalAndExpression(this.$1,this.$3)}],["ax",["ay"]],["ax",["ax","m","ay"],function(){return new this.yy.EqualityExpression(this.$1,"===",this.$3)}],["ax",["ax","n","ay"],function(){return new this.yy.EqualityExpression(this.$1,"!==",this.$3)}],["ay",["az"]],["ay",["ay","r","az"],function(){return new this.yy.RelationalExpression(this.$1,"<",this.$3)}],["ay",["ay","q","az"],function(){return new this.yy.RelationalExpression(this.$1,">",this.$3)}],["ay",["ay","p","az"],function(){return new this.yy.RelationalExpression(this.$1,"<=",this.$3)}],["ay",["ay","o","az"],function(){return new this.yy.RelationalExpression(this.$1,">=",this.$3)}],["az",["ba"]],["az",["az","s","ba"],function(){return new this.yy.AdditiveExpression(this.$1,"+",this.$3)}],["az",["az","t","ba"],function(){return new this.yy.AdditiveExpression(this.$1,"-",this.$3)}],["ba",["bb"]],["ba",["ba","u","bb"],function(){return new this.yy.MultiplicativeExpression(this.$1,"*",this.$3)}],["ba",["ba","v","bb"],function(){return new this.yy.MultiplicativeExpression(this.$1,"/",this.$3)}],["ba",["ba","w","bb"],function(){return new this.yy.MultiplicativeExpression(this.$1,"%",this.$3)}],["bb",["x","bb"],function(){return new this.yy.UnaryExpression(this.$1,this.$2)}],["bb",["t","bb"],function(){return new this.yy.UnaryExpression(this.$1,this.$2)}],["bb",["bc"]],["bc",["y"],function(){return new this.yy.String({line:this.lexer.firstLine,col:this.lexer.firstColumn},this.$1)}],["bc",["z"],function(){return new this.yy.Number({line:this.lexer.firstLine,col:this.lexer.firstColumn},this.$1)}],["bc",["an"]],["bc",["i","ao","j"],function(){return this.$2}],["aq",["aq","g","bd"],function(){this.$1.value.push(this.$3)}],["aq",["bd"],function(){return new this.yy.Hash({line:this.lexer.firstLine,col:this.lexer.firstColumn},[this.$1])}],["bd",["an","aa","ao"],function(){return[this.$1,this.$3]}],["an",["be"],function(){return new this.yy.Id({line:this.lexer.firstLine,col:this.lexer.firstColumn},this.$1)}],["be",["am"],function(){return[this.$1]}],["be",["be","ac","ab"],function(){this.$1.push(this.$3)}],["be",["be","ad","ao","ae"],function(){this.$1.push(this.$3)}],["be",["ab"],function(){return[this.$1]}]],a.table={gotos:{0:{aj:4,ak:5,al:6},2:{am:8,an:9,be:10},3:{am:18,an:19,ao:20,as:21,aw:22,ax:23,ay:24,az:25,ba:26,bb:27,bc:28,be:10},5:{al:30},11:{am:18,an:19,ao:35,as:21,aw:22,ax:23,ay:24,az:25,ba:26,bb:27,bc:28,be:10},12:{am:18,an:19,bb:36,bc:28,be:10},13:{am:18,an:19,bb:37,bc:28,be:10},16:{am:18,an:19,ao:39,as:21,at:40,aw:22,ax:23,ay:24,az:25,ba:26,bb:27,bc:28,be:10},17:{au:44,av:45},29:{ak:60,al:6},31:{aj:61,ak:5,al:6},32:{am:18,an:63,ao:64,ap:65,aq:66,ar:67,as:21,aw:22,ax:23,ay:24,az:25,ba:26,bb:27,bc:28,bd:68,be:10},34:{am:18,an:19,ao:70,as:21,aw:22,ax:23,ay:24,az:25,ba:26,bb:27,bc:28,be:10},47:{am:18,an:19,aw:78,ax:23,ay:24,az:25,ba:26,bb:27,bc:28,be:10},48:{am:18,an:19,ax:79,ay:24,az:25,ba:26,bb:27,bc:28,be:10},49:{am:18,an:19,ay:80,az:25,ba:26,bb:27,bc:28,be:10},50:{am:18,an:19,ay:81,az:25,ba:26,bb:27,bc:28,be:10},51:{am:18,an:19,az:82,ba:26,bb:27,bc:28,be:10},52:{am:18,an:19,az:83,ba:26,bb:27,bc:28,be:10},53:{am:18,an:19,az:84,ba:26,bb:27,bc:28,be:10},54:{am:18,an:19,az:85,ba:26,bb:27,bc:28,be:10},55:{am:18,an:19,ba:86,bb:27,bc:28,be:10},56:{am:18,an:19,ba:87,bb:27,bc:28,be:10},57:{am:18,an:19,bb:88,bc:28,be:10},58:{am:18,an:19,bb:89,bc:28,be:10},59:{am:18,an:19,bb:90,bc:28,be:10},60:{al:30},72:{am:18,an:19,ao:98,as:21,aw:22,ax:23,ay:24,az:25,ba:26,bb:27,bc:28,be:10},74:{am:18,an:19,ao:99,as:21,aw:22,ax:23,ay:24,az:25,ba:26,bb:27,bc:28,be:10},75:{am:18,an:19,ao:100,as:21,aw:22,ax:23,ay:24,az:25,ba:26,bb:27,bc:28,be:10},76:{av:101},91:{am:18,an:102,be:10},92:{am:18,an:19,ao:103,as:21,aw:22,ax:23,ay:24,az:25,ba:26,bb:27,bc:28,be:10},93:{am:18,an:63,ao:64,aq:104,ar:105,as:21,aw:22,ax:23,ay:24,az:25,ba:26,bb:27,bc:28,bd:68,be:10},95:{am:18,an:106,bd:107,be:10}},action:{0:{b:[1,e,1],c:[1,e,2],f:[1,e,3]},1:{a:[2,7],e:[2,7],c:[2,7],f:[2,7],b:[2,7],d:[2,7]},2:{ab:[1,e,7]},3:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7],ad:[1,e,16],af:[1,e,17]},4:{a:[0]},5:{a:[2,2],d:[2,2],b:[1,e,1],c:[1,e,2],e:[1,e,29],f:[1,e,3]},6:{a:[2,3],e:[2,3],c:[2,3],f:[2,3],b:[2,3],d:[2,3]},7:{i:[2,59],ac:[2,59],ad:[2,59],h:[2,59],k:[2,59],l:[2,59],m:[2,59],n:[2,59],o:[2,59],p:[2,59],q:[2,59],r:[2,59],s:[2,59],t:[2,59],u:[2,59],v:[2,59],w:[2,59],j:[2,59],ae:[2,59],g:[2,59],aa:[2,59],ah:[2,59]},8:{i:[2,56],ac:[2,56],ad:[2,56],h:[1,e,31]},9:{i:[1,e,32]},10:{i:[2,55],h:[2,55],k:[2,55],l:[2,55],m:[2,55],n:[2,55],o:[2,55],p:[2,55],q:[2,55],r:[2,55],s:[2,55],t:[2,55],u:[2,55],v:[2,55],w:[2,55],j:[2,55],ae:[2,55],g:[2,55],aa:[2,55],ah:[2,55],ac:[1,e,33],ad:[1,e,34]},11:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7],ad:[1,e,16],af:[1,e,17]},12:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},13:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},14:{h:[2,48],k:[2,48],l:[2,48],m:[2,48],n:[2,48],o:[2,48],p:[2,48],q:[2,48],r:[2,48],s:[2,48],t:[2,48],u:[2,48],v:[2,48],w:[2,48],j:[2,48],ae:[2,48],g:[2,48],ah:[2,48]},15:{h:[2,49],k:[2,49],l:[2,49],m:[2,49],n:[2,49],o:[2,49],p:[2,49],q:[2,49],r:[2,49],s:[2,49],t:[2,49],u:[2,49],v:[2,49],w:[2,49],j:[2,49],ae:[2,49],g:[2,49],ah:[2,49]},16:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7],ad:[1,e,16],ae:[1,e,38],af:[1,e,17]},17:{y:[1,e,41],ab:[1,e,42],ah:[1,e,43]},18:{h:[2,56],k:[2,56],i:[2,56],l:[2,56],m:[2,56],n:[2,56],o:[2,56],p:[2,56],q:[2,56],r:[2,56],s:[2,56],t:[2,56],u:[2,56],v:[2,56],w:[2,56],ac:[2,56],ad:[2,56],j:[2,56],ae:[2,56],g:[2,56],aa:[2,56],ah:[2,56]},19:{h:[2,50],k:[2,50],l:[2,50],m:[2,50],n:[2,50],o:[2,50],p:[2,50],q:[2,50],r:[2,50],s:[2,50],t:[2,50],u:[2,50],v:[2,50],w:[2,50],j:[2,50],ae:[2,50],g:[2,50],ah:[2,50],i:[1,e,32]},20:{h:[1,e,46]},21:{h:[2,15],j:[2,15],ae:[2,15],g:[2,15],ah:[2,15],k:[1,e,47]},22:{h:[2,26],k:[2,26],j:[2,26],ae:[2,26],g:[2,26],ah:[2,26],l:[1,e,48]},23:{h:[2,28],k:[2,28],l:[2,28],j:[2,28],ae:[2,28],g:[2,28],ah:[2,28],m:[1,e,49],n:[1,e,50]},24:{h:[2,30],k:[2,30],l:[2,30],m:[2,30],n:[2,30],j:[2,30],ae:[2,30],g:[2,30],ah:[2,30],o:[1,e,51],p:[1,e,52],q:[1,e,53],r:[1,e,54]},25:{h:[2,33],k:[2,33],l:[2,33],m:[2,33],n:[2,33],o:[2,33],p:[2,33],q:[2,33],r:[2,33],j:[2,33],ae:[2,33],g:[2,33],ah:[2,33],s:[1,e,55],t:[1,e,56]},26:{h:[2,38],k:[2,38],l:[2,38],m:[2,38],n:[2,38],o:[2,38],p:[2,38],q:[2,38],r:[2,38],s:[2,38],t:[2,38],j:[2,38],ae:[2,38],g:[2,38],ah:[2,38],u:[1,e,57],v:[1,e,58],w:[1,e,59]},27:{h:[2,41],k:[2,41],l:[2,41],m:[2,41],n:[2,41],o:[2,41],p:[2,41],q:[2,41],r:[2,41],s:[2,41],t:[2,41],u:[2,41],v:[2,41],w:[2,41],j:[2,41],ae:[2,41],g:[2,41],ah:[2,41]},28:{h:[2,47],k:[2,47],l:[2,47],m:[2,47],n:[2,47],o:[2,47],p:[2,47],q:[2,47],r:[2,47],s:[2,47],t:[2,47],u:[2,47],v:[2,47],w:[2,47],j:[2,47],ae:[2,47],g:[2,47],ah:[2,47]},29:{b:[1,e,1],c:[1,e,2],f:[1,e,3]},30:{a:[2,4],e:[2,4],c:[2,4],f:[2,4],b:[2,4],d:[2,4]},31:{b:[1,e,1],c:[1,e,2],f:[1,e,3]},32:{i:[1,e,11],j:[1,e,62],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7],ad:[1,e,16],af:[1,e,17]},33:{ab:[1,e,69]},34:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7],ad:[1,e,16],af:[1,e,17]},35:{j:[1,e,71]},36:{h:[2,46],k:[2,46],l:[2,46],m:[2,46],n:[2,46],o:[2,46],p:[2,46],q:[2,46],r:[2,46],s:[2,46],t:[2,46],u:[2,46],v:[2,46],w:[2,46],j:[2,46],ae:[2,46],g:[2,46],ah:[2,46]},37:{h:[2,45],k:[2,45],l:[2,45],m:[2,45],n:[2,45],o:[2,45],p:[2,45],q:[2,45],r:[2,45],s:[2,45],t:[2,45],u:[2,45],v:[2,45],w:[2,45],j:[2,45],ae:[2,45],g:[2,45],ah:[2,45]},38:{h:[2,17],j:[2,17],ae:[2,17],g:[2,17],ah:[2,17]},39:{ae:[2,24],g:[2,24]},40:{g:[1,e,72],ae:[1,e,73]},41:{ag:[1,e,74]},42:{ag:[1,e,75]},43:{h:[2,19],j:[2,19],ae:[2,19],g:[2,19],ah:[2,19]},44:{g:[1,e,76],ah:[1,e,77]},45:{ah:[2,22],g:[2,22]},46:{a:[2,6],e:[2,6],c:[2,6],f:[2,6],b:[2,6],d:[2,6]},47:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},48:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},49:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},50:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},51:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},52:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},53:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},54:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},55:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},56:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},57:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},58:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},59:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},60:{a:[2,1],d:[2,1],b:[1,e,1],c:[1,e,2],f:[1,e,3]},61:{d:[1,e,91]},62:{h:[2,11],i:[2,11],ac:[2,11],ad:[2,11],k:[2,11],l:[2,11],m:[2,11],n:[2,11],o:[2,11],p:[2,11],q:[2,11],r:[2,11],s:[2,11],t:[2,11],u:[2,11],v:[2,11],w:[2,11],j:[2,11],ae:[2,11],g:[2,11],aa:[2,11],ah:[2,11]},63:{g:[2,50],j:[2,50],k:[2,50],l:[2,50],m:[2,50],n:[2,50],o:[2,50],p:[2,50],q:[2,50],r:[2,50],s:[2,50],t:[2,50],u:[2,50],v:[2,50],w:[2,50],i:[1,e,32],aa:[1,e,92]},64:{g:[2,14],j:[2,14]},65:{g:[1,e,93],j:[1,e,94]},66:{g:[1,e,95],j:[1,e,96]},67:{g:[2,13],j:[2,13]},68:{j:[2,53],g:[2,53]},69:{i:[2,57],ac:[2,57],ad:[2,57],h:[2,57],k:[2,57],l:[2,57],m:[2,57],n:[2,57],o:[2,57],p:[2,57],q:[2,57],r:[2,57],s:[2,57],t:[2,57],u:[2,57],v:[2,57],w:[2,57],j:[2,57],ae:[2,57],g:[2,57],aa:[2,57],ah:[2,57]},70:{ae:[1,e,97]},71:{h:[2,51],k:[2,51],l:[2,51],m:[2,51],n:[2,51],o:[2,51],p:[2,51],q:[2,51],r:[2,51],s:[2,51],t:[2,51],u:[2,51],v:[2,51],w:[2,51],j:[2,51],ae:[2,51],g:[2,51],ah:[2,51]},72:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7],ad:[1,e,16],af:[1,e,17]},73:{h:[2,16],j:[2,16],ae:[2,16],g:[2,16],ah:[2,16]},74:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7],ad:[1,e,16],af:[1,e,17]},75:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7],ad:[1,e,16],af:[1,e,17]},76:{y:[1,e,41],ab:[1,e,42]},77:{h:[2,18],j:[2,18],ae:[2,18],g:[2,18],ah:[2,18]},78:{h:[2,27],k:[2,27],j:[2,27],ae:[2,27],g:[2,27],ah:[2,27],l:[1,e,48]},79:{h:[2,29],k:[2,29],l:[2,29],j:[2,29],ae:[2,29],g:[2,29],ah:[2,29],m:[1,e,49],n:[1,e,50]},80:{h:[2,31],k:[2,31],l:[2,31],m:[2,31],n:[2,31],j:[2,31],ae:[2,31],g:[2,31],ah:[2,31],o:[1,e,51],p:[1,e,52],q:[1,e,53],r:[1,e,54]},81:{h:[2,32],k:[2,32],l:[2,32],m:[2,32],n:[2,32],j:[2,32],ae:[2,32],g:[2,32],ah:[2,32],o:[1,e,51],p:[1,e,52],q:[1,e,53],r:[1,e,54]},82:{h:[2,37],k:[2,37],l:[2,37],m:[2,37],n:[2,37],o:[2,37],p:[2,37],q:[2,37],r:[2,37],j:[2,37],ae:[2,37],g:[2,37],ah:[2,37],s:[1,e,55],t:[1,e,56]},83:{h:[2,36],k:[2,36],l:[2,36],m:[2,36],n:[2,36],o:[2,36],p:[2,36],q:[2,36],r:[2,36],j:[2,36],ae:[2,36],g:[2,36],ah:[2,36],s:[1,e,55],t:[1,e,56]},84:{h:[2,35],k:[2,35],l:[2,35],m:[2,35],n:[2,35],o:[2,35],p:[2,35],q:[2,35],r:[2,35],j:[2,35],ae:[2,35],g:[2,35],ah:[2,35],s:[1,e,55],t:[1,e,56]},85:{h:[2,34],k:[2,34],l:[2,34],m:[2,34],n:[2,34],o:[2,34],p:[2,34],q:[2,34],r:[2,34],j:[2,34],ae:[2,34],g:[2,34],ah:[2,34],s:[1,e,55],t:[1,e,56]},86:{h:[2,39],k:[2,39],l:[2,39],m:[2,39],n:[2,39],o:[2,39],p:[2,39],q:[2,39],r:[2,39],s:[2,39],t:[2,39],j:[2,39],ae:[2,39],g:[2,39],ah:[2,39],u:[1,e,57],v:[1,e,58],w:[1,e,59]},87:{h:[2,40],k:[2,40],l:[2,40],m:[2,40],n:[2,40],o:[2,40],p:[2,40],q:[2,40],r:[2,40],s:[2,40],t:[2,40],j:[2,40],ae:[2,40],g:[2,40],ah:[2,40],u:[1,e,57],v:[1,e,58],w:[1,e,59]},88:{h:[2,42],k:[2,42],l:[2,42],m:[2,42],n:[2,42],o:[2,42],p:[2,42],q:[2,42],r:[2,42],s:[2,42],t:[2,42],u:[2,42],v:[2,42],w:[2,42],j:[2,42],ae:[2,42],g:[2,42],ah:[2,42]},89:{h:[2,43],k:[2,43],l:[2,43],m:[2,43],n:[2,43],o:[2,43],p:[2,43],q:[2,43],r:[2,43],s:[2,43],t:[2,43],u:[2,43],v:[2,43],w:[2,43],j:[2,43],ae:[2,43],g:[2,43],ah:[2,43]},90:{h:[2,44],k:[2,44],l:[2,44],m:[2,44],n:[2,44],o:[2,44],p:[2,44],q:[2,44],r:[2,44],s:[2,44],t:[2,44],u:[2,44],v:[2,44],w:[2,44],j:[2,44],ae:[2,44],g:[2,44],ah:[2,44]},91:{ab:[1,e,7]},92:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7],ad:[1,e,16],af:[1,e,17]},93:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7],ad:[1,e,16],af:[1,e,17]},94:{h:[2,9],i:[2,9],ac:[2,9],ad:[2,9],k:[2,9],l:[2,9],m:[2,9],n:[2,9],o:[2,9],p:[2,9],q:[2,9],r:[2,9],s:[2,9],t:[2,9],u:[2,9],v:[2,9],w:[2,9],j:[2,9],ae:[2,9],g:[2,9],aa:[2,9],ah:[2,9]},95:{ab:[1,e,7]},96:{h:[2,10],i:[2,10],ac:[2,10],ad:[2,10],k:[2,10],l:[2,10],m:[2,10],n:[2,10],o:[2,10],p:[2,10],q:[2,10],r:[2,10],s:[2,10],t:[2,10],u:[2,10],v:[2,10],w:[2,10],j:[2,10],ae:[2,10],g:[2,10],aa:[2,10],ah:[2,10]},97:{i:[2,58],ac:[2,58],ad:[2,58],h:[2,58],k:[2,58],l:[2,58],m:[2,58],n:[2,58],o:[2,58],p:[2,58],q:[2,58],r:[2,58],s:[2,58],t:[2,58],u:[2,58],v:[2,58],w:[2,58],j:[2,58],ae:[2,58],g:[2,58],aa:[2,58],ah:[2,58]},98:{ae:[2,25],g:[2,25]},99:{ah:[2,20],g:[2,20]},100:{ah:[2,21],g:[2,21]},101:{ah:[2,23],g:[2,23]},102:{h:[1,e,108],i:[1,e,32]},103:{j:[2,54],g:[2,54]},104:{g:[1,e,95],j:[1,e,109]},105:{g:[2,12],j:[2,12]},106:{i:[1,e,32],aa:[1,e,92]},107:{j:[2,52],g:[2,52]},108:{a:[2,5],e:[2,5],c:[2,5],f:[2,5],b:[2,5],d:[2,5]},109:{h:[2,8],i:[2,8],ac:[2,8],ad:[2,8],k:[2,8],l:[2,8],m:[2,8],n:[2,8],o:[2,8],p:[2,8],q:[2,8],r:[2,8],s:[2,8],t:[2,8],u:[2,8],v:[2,8],w:[2,8],j:[2,8],ae:[2,8],g:[2,8],aa:[2,8],ah:[2,8]}}},a.parse=function(n,r){var o,a,u,c,l,h=this,f=h.lexer,d=h.table,p=d.gotos,m=d.action,v=h.productions,g=r?"in file: "+r+" ":"",b=[],y=[0],w=[];for(f.resetInput(n,r);;){if(o=t(y),a||(a=f.lex()),c=a?m[o]&&m[o][a]:null,!c){var _,E=[];throw m[o]&&i(m[o],function(e,t){c=e[s.TYPE_INDEX];var n=[];n[s.SHIFT_TYPE]="shift",n[s.REDUCE_TYPE]="reduce",n[s.ACCEPT_TYPE]="accept",E.push(n[c]+":"+h.lexer.mapReverseSymbol(t))}),_=g+"syntax error at line "+f.lineNumber+":\n"+f.showDebugInfo()+"\nexpect "+E.join(", "),new Error(_)}switch(c[s.TYPE_INDEX]){case s.SHIFT_TYPE:w.push(a),b.push(f.text),y.push(c[s.TO_INDEX]),a=null;break;case s.REDUCE_TYPE:var x=v[c[s.PRODUCTION_INDEX]],T=x.symbol||x[0],C=x.action||x[2],N=x.rhs||x[1],I=N.length;l=t(b,I),u=e,h.$$=l;for(var L=0;I>L;L++)h["$"+(I-L)]=t(b,L+1);C&&(u=C.call(h)),l=u!==e?u:h.$$;var S=-1*I;y.splice(S,I),b.splice(S,I),w.splice(S,I),w.push(T),b.push(l);var j=p[t(y)][T];y.push(j);break;case s.ACCEPT_TYPE:return l}}},a}();return"undefined"!=typeof l&&(e=t),e}(),o=function(e){function t(e,t){var n=e.length,r=t.length;if(n!==r)return 0;for(var i=0;n>i;i++)if(e[i]!==t[i])return 0;return 1}var n={};return n.ProgramNode=function(e,t,n){var r=this;r.pos=e,r.statements=t,r.inverse=n},n.ProgramNode.prototype.type="program",n.BlockStatement=function(e,n,r,i,o){var a,s=i.parts,u=this;if(!t(n.id.parts,s))throw a="in file: "+e.filename+" syntax error at line "+e.line+", col "+e.col+":\nexpect {{/"+n.id.parts+"}} not {{/"+s+"}}",new Error(a);u.escape=o,u.pos=e,u.func=n,u.program=r},n.BlockStatement.prototype.type="blockStatement",n.ExpressionStatement=function(e,t,n){var r=this;r.pos=e,r.value=t,r.escape=n},n.ExpressionStatement.prototype.type="expressionStatement",n.ContentStatement=function(e,t){var n=this;n.pos=e,n.value=t},n.ContentStatement.prototype.type="contentStatement",n.UnaryExpression=function(e,t){this.value=t,this.unaryType=e},n.Function=function(e,t,n,r){var i=this;i.pos=e,i.id=t,i.params=n,i.hash=r},n.Function.prototype.type="function",n.UnaryExpression.prototype.type="unaryExpression",n.MultiplicativeExpression=function(e,t,n){var r=this;r.op1=e,r.opType=t,r.op2=n},n.MultiplicativeExpression.prototype.type="multiplicativeExpression",n.AdditiveExpression=function(e,t,n){var r=this;r.op1=e,r.opType=t,r.op2=n},n.AdditiveExpression.prototype.type="additiveExpression",n.RelationalExpression=function(e,t,n){var r=this;r.op1=e,r.opType=t,r.op2=n},n.RelationalExpression.prototype.type="relationalExpression",n.EqualityExpression=function(e,t,n){var r=this;r.op1=e,r.opType=t,r.op2=n},n.EqualityExpression.prototype.type="equalityExpression",n.ConditionalAndExpression=function(e,t){var n=this;n.op1=e,n.op2=t,n.opType="&&"},n.ConditionalAndExpression.prototype.type="conditionalAndExpression",n.ConditionalOrExpression=function(e,t){var n=this;n.op1=e,n.op2=t,n.opType="||"},n.ConditionalOrExpression.prototype.type="conditionalOrExpression",n.String=function(e,t){var n=this;n.pos=e,n.value=t},n.String.prototype.type="string",n.Number=function(e,t){var n=this;n.pos=e,n.value=t},n.Number.prototype.type="number",n.Hash=function(e,t){var n=this;n.pos=e,n.value=t},n.Hash.prototype.type="hash",n.ArrayExpression=function(e){this.list=e},n.ArrayExpression.prototype.type="arrayExpression",n.ObjectExpression=function(e){this.obj=e},n.ObjectExpression.prototype.type="objectExpression",n.Id=function(e,t){var n=this,r=[],i=0;n.pos=e;for(var o=0,a=t.length;a>o;o++){var s=t[o];".."===s?i++:r.push(s)}n.parts=r,n.string=r.join("."),n.depth=i},n.Id.prototype.type="id",e=n}(),a=function(n){var r=t,i=e,o={range:function(e,t){var n=t.params,r=n[0],i=n[1],o=n[2];o?(r>i&&o>0||i>r&&0>o)&&(o=-o):o=r>i?-1:1;for(var a=[],s=r;i>r?i>s:s>i;s+=o)a.push(s);return a},foreach:function(e,t,n){var i,o,a,s,u=t.params,c=u[0],l=u[2]||"xindex",h=u[1];if(c)for(i=c.length,s=0;i>s;s++)o=new r(c[s],{xcount:i,xindex:s},e),a=o.affix,"xindex"!==l&&(a[l]=s,a.xindex=void 0),h&&(a[h]=c[s]),n=t.fn(o,n);return n},forin:function(e,t,n){var i,o,a,s=t.params,u=s[0],c=s[2]||"xindex",l=s[1];if(u)for(a in u)i=new r(u[a],{xindex:a},e),o=i.affix,"xindex"!==c&&(o[c]=a,o.xindex=void 0),l&&(o[l]=u[a]),n=t.fn(i,n);return n},each:function(e,t,n){var r=t.params,a=r[0];return a?i.isArray(a)?o.foreach(e,t,n):o.forin(e,t,n):n},"with":function(e,t,n){var i=t.params,o=i[0];if(o){var a=new r(o,void 0,e);n=t.fn(a,n)}return n},"if":function(e,t,n){var r=t.params,i=r[0];if(i){var o=t.fn;o&&(n=o(e,n))}else{var a=!1,s=t.elseIfs,u=t.inverse;if(s)for(var c=0,l=s.length;l>c;c++){var h=s[c];if(a=h.test(e)){n=h.fn(e,n);break}}!a&&u&&(n=u(e,n))}return n},set:function(e,t,n){for(var r=t.hash,i=r.length,o=0;i>o;o++){var a=r[o],s=a.key,u=a.depth,c=a.value;if(1===s.length){for(var l=e.root;u&&l!==e;)e=e.parent,--u;e.set(s[0],c)}else{var h=e.resolve(s.slice(0,-1),u);h&&(h[s[s.length-1]]=c)}}return n},include:1,parse:1,extend:1,block:function(e,t,n){var r,i=this,o=i.runtime,a=t.params,s=a[0];2===a.length&&(r=a[0],s=a[1]);var u,c=o.blocks=o.blocks||{},l=c[s],h={fn:t.fn,type:r};if(l){if(l.type)if("append"===l.type)h.next=l,c[s]=h;else if("prepend"===l.type){var f;for(u=l;u&&"prepend"===u.type;)f=u,u=u.next;h.next=u,f.next=h}}else c[s]=h;if(!o.extendTpl)for(u=c[s];u;)u.fn&&(n=u.fn.call(i,e,n)),u=u.next;return n},macro:function(e,t,n){var i=t.hash,o=t.params,a=o[0],s=o.slice(1),u=this,c=u.runtime,l=c.macros=c.macros||{},h=l[a];if(t.fn)l[a]={paramNames:s,hash:i,fn:t.fn};else if(h){var f,d=h.hash||{};if(f=h.paramNames)for(var p=0,m=f.length;m>p;p++){var v=f[p];d[v]=s[p]}if(i)for(var g in i)d[g]=i[g];var b=new r(d);b.root=e.root,n=h.fn.call(u,b,n)}else{var y="can not find macro: "+a;n.error(y)}return n}};return o["debugger"]=function(){i.globalEval("debugger")},n=o}(),s=function(r){function i(e,t,n,r,i,o,a,s){this.name=e,this.originalName=o||e,this.runtime=t,this.root=n,this.pos={line:1},this.scope=r,this.buffer=i,this.fn=a,this.parent=s}function o(e,t,n){var r=n[0],i=e&&e[r]||t&&t[r]||b[r];if(1===n.length)return i;if(i)for(var o=n.length,a=1;o>a;a++)if(i=i[n[a]],!i)return!1;return i}function s(e,t){var n=e.split("/"),r=t.split("/");n.pop();for(var i=0,o=r.length;o>i;i++){var a=r[i];"."===a||(".."===a?n.pop():n.push(a))}return n.join("/")}function u(e,t,n,r,i,a){var s,u,c;if(a||(c=o(e.runtime.commands,e.root.config.commands,i)),c)return c.call(e,t,n,r);if(c!==!1){var l=i.slice(0,-1);if(s=t.resolve(l,a),null==s)return r.error("Execute function `"+i.join(".")+"` Error: "+l.join(".")+" is undefined or null"),r;if(u=s[i[i.length-1]])try{return u.apply(s,n.params||[])}catch(h){return r.error("Execute function `"+i.join(".")+"` Error: "+h.message),r}}return r.error("Command Not Found: "+i.join(".")),r}function c(e,t){var n=this;n.fn=e,n.config=v.merge(c.globalConfig,t),this.subNameResolveCache={}}function l(e,t,n){if("."!==t.charAt(0))return t;var r=n+"_ks_"+t,i=e.subNameResolveCache,o=i[r];return o?o:t=i[r]=s(n,t)}function h(e,t,n,r,i,o){var a=l(e,o,i.name),s=r.insert(),u=s.next;return d(e,a,i.runtime,t,s,o,n,r.tpl),u}function f(e,t,n,r,o){var a=n.insert(),s=a.next,u=new i(o.TPL_NAME,r.runtime,e,t,a,void 0,o,n.tpl);return a.tpl=u,p(u),s}function d(e,t,n,r,o,a,s,u){var c=new i(t,n,e,r,o,a,void 0,u);o.tpl=c,e.config.loader.load(c,function(e,t){"function"==typeof t?(c.fn=t,p(c)):e?o.error(e):(t=t||"",s?o.writeEscaped(t):o.data+=t,o.end())})}function p(e){var t=e.fn();if(t){var n,r=e.runtime,i=r.extendTpl;if(i&&(n=i.params[0],!n))return t.error("extend command required a non-empty parameter");var o=r.extendTplFn,a=r.extendTplBuffer;return o?(r.extendTpl=null,r.extendTplBuffer=null,r.extendTplFn=null,f(e.root,e.scope,a,e,o).end()):n&&(r.extendTpl=null,r.extendTplBuffer=null,h(e.root,e.scope,0,a,e,n).end()),t.end()}}function m(e,t,n){var r=t.params;if(!r[0])return n.error("include command required a non-empty parameter");var i=e,o=r[1],a=t.hash;return a&&(o=o?v.mix({},o):{},v.mix(o,a)),o&&(i=new y(o,void 0,e)),i}var v=e,g=a,b={},y=t,w=n,_={callFn:u,callDataFn:function(e,t){for(var n=t[0],r=n,i=1;i<t.length;i++){var o=t[i];if(!r||null==r[o])return"";n=r,r=r[o]}return r.apply(n,e||[])},callCommand:function(e,t,n,r,i){return u(e,t,n,r,i)}};return v.mix(c,{config:function(e,t){var n=this.globalConfig=this.globalConfig||{};return arguments.length?void(void 0!==t?n[e]=t:v.mix(n,e)):n},nativeCommands:g,utils:_,util:v,addCommand:function(e,t){b[e]=t},removeCommand:function(e){delete b[e]}}),c.prototype={constructor:c,Scope:y,nativeCommands:g,utils:_,removeCommand:function(e){var t=this.config;t.commands&&delete t.commands[e]},addCommand:function(e,t){var n=this.config;n.commands=n.commands||{},n.commands[e]=t},include:function(e,t,n,r){return h(this,m(e,t,n),t.escape,n,r,t.params[0])},includeModule:function(e,t,n,r){return f(this,m(e,t,n),n,r,t.params[0])},render:function(e,t,n){var r="",o=this,a=o.fn,s=o.config;"function"==typeof t&&(n=t,t=null),t=t||{},n=n||function(e,t){if(e)throw e instanceof Error||(e=new Error(e)),e;r=t};var u=o.config.name;!u&&a&&a.TPL_NAME&&(u=a.TPL_NAME);var l;l=e instanceof y?e:new y(e);var h=new c.LinkedBuffer(n,s).head,f=new i(u,{commands:t.commands},o,l,h,u,a);return h.tpl=f,a?(p(f),r):(s.loader.load(f,function(e,t){t?(f.fn=o.fn=t,p(f)):e&&h.error(e)}),r)}},c.Scope=y,c.LinkedBuffer=w,r=c}(),u=function(e){function t(e,t){G!==e.line&&(G=e.line,t.push("pos.line = "+e.line+";"))}function n(){G=1}function a(e){return["function "+e+"(scope, buffer, undefined) {","var data = scope.data;","var affix = scope.affix;"]}function u(e,t){return t+e.uuid++}function c(e){var t,n,r,i,o=[],a=e.opType,s=this[e.op1.type](e.op1),c=this[e.op2.type](e.op2),l=u(this,"exp");
return t=s.exp,n=c.exp,r=s.source,i=c.source,b(o,r),o.push("var "+l+" = "+t+";"),"&&"===a||"||"===a?(o.push("if("+("&&"===a?"":"!")+"("+l+")){"),b(o,i),o.push(l+" = "+n+";"),o.push("}")):(b(o,i),o.push(l+" = ("+t+")"+a+"("+n+");")),{exp:l,source:o}}function l(e,t){for(var n,r=u(e,"func"),i=a(r),o=0,s=t.length;s>o;o++)n=t[o],b(i,e[n.type](n).source);return i.push(q),i.push("}"),b(e.functionDeclares,i),r}function h(e,t){var n=u(e,"func"),r=a(n),i=e[t.type](t);return b(r,i.source),r.push("return "+i.exp+";"),r.push("}"),b(e.functionDeclares,r),n}function f(e,t){var n,r,i,o=e.config.catchError,a=[E,z,o?"try {":""];for(r=0,i=t.length;i>r;r++)n=t[r],b(a,e[n.type](n,{top:1}).source);return a.splice.apply(a,[2,0].concat(e.functionDeclares).concat("")),a.push(q),o&&(a.push("} catch(e) {"),a.push("if(!e.xtpl){"),a.push("buffer.error(e);"),a.push("}else{ throw e; }"),a.push("}")),{params:["undefined"],source:a.join("\n")}}function d(e,t,n,r,i,o){var a=[],s=t.params,u=t.hash,c=[],l="set"===t.id.string;s&&F(s,function(t){var n=e[t.type](t);b(a,n.source),c.push(n.exp)});var h=[];u&&F(u.value,function(t){var n=t[1],r=t[0],i=e[n.type](n);if(b(a,i.source),l){var o=g.convertIdPartsToRawAccessor(e,a,r.parts).resolvedParts;h.push({key:o,depth:r.depth,value:i.exp})}else{if(1!==r.parts.length||"string"!=typeof r.parts[0])throw new Error("invalid hash parameter");h.push([y(r.string),i.exp])}});var f="";if(c.length||h.length||n||r||o||i){if(n&&(f+=",escape:1"),c.length&&(f+=",params:["+c.join(",")+"]"),h.length){var d=[];l?(v.each(h,function(e){d.push("{key:["+e.key.join(",")+"],value:"+e.value+", depth:"+e.depth+"}")}),f+=",hash: ["+d.join(",")+"]"):(v.each(h,function(e){d.push(e[0]+":"+e[1])}),f+=",hash: {"+d.join(",")+"}")}r&&(f+=",fn: "+r),o&&(f+=",inverse: "+o),i&&(f+=",elseIfs: "+i),f="{"+f.slice(1)+"}"}return{exp:f||"{}",funcParams:c,source:a}}function p(e,n,r,i){var o=[];t(n.pos,o);var a,s,c=n.id,f=c.string;f in B&&(i=0);var p,m=c.parts;if("elseif"===f)return{exp:"",source:[]};if(r){var v,y,w,_,E,L,S=r.program,j=S.inverse,O=[],k=S.statements,M=[];for(p=0;p<k.length;p++)L=k[p],"expressionStatement"===L.type&&(E=L.value)&&(E=E.parts)&&1===E.length&&(E=E[0])&&"function"===E.type&&"elseif"===E.id.string?(_&&O.push(_),_={condition:E.params[0],statements:[]}):_?_.statements.push(L):M.push(L);if(_&&O.push(_),v=l(e,M),j&&(w=l(e,j)),O.length){var P=[];for(p=0;p<O.length;p++){var D=O[p],A=h(e,D.condition);P.push("{test: "+A+",fn : "+l(e,D.statements)+"}")}y="["+P.join(",")+"]"}a=d(e,n,i,v,y,w),b(o,a.source)}var R=e.config.isModule;if(("include"===f||"parse"===f||"extend"===f)&&(!n.params||n.params.length>2))throw new Error("include/parse/extend can only has at most two parameter!");if(R&&("include"===f||"parse"===f)&&(n.params[0]={type:"raw",value:'require("'+n.params[0].value+'")'}),a||(a=d(e,n,i,null,null,null),b(o,a.source)),r||(s=u(e,"callRet"),o.push("var "+s)),f in B)"extend"===f?(o.push("runtime.extendTpl = "+a.exp),o.push("buffer = buffer.async(function(newBuffer){runtime.extendTplBuffer = newBuffer;});"),R&&o.push("runtime.extendTplFn = require("+a.exp+".params[0])")):o.push("include"===f?"buffer = root."+(R?"includeModule":"include")+"(scope,"+a.exp+",buffer,tpl);":"parse"===f?"buffer = root."+(R?"includeModule":"include")+"(new scope.constructor(),"+a.exp+",buffer,tpl);":U(x,{lhs:r?"buffer":s,name:f,option:a.exp}));else if(r)o.push(U(T,{option:a.exp,idParts:g.convertIdPartsToRawAccessor(e,o,m).arr}));else{var q=g.convertIdPartsToRawAccessor(e,o,m);o.push(q.funcRet?U(N,{lhs:s,params:a.funcParams.join(","),idParts:q.arr,depth:c.depth}):U(c.depth?I:C,{lhs:s,option:a.exp,idParts:q.arr,depth:c.depth}))}return{exp:s,source:o}}function m(e){this.functionDeclares=[],this.config=e,this.uuid=0}for(var v=s.util,g=r,b=g.pushToArray,y=g.wrapByDoubleQuote,w=["var t;"],_=0;10>_;_++)w.push("var t"+_+";");var E=w.concat(["var tpl = this;","var root = tpl.root;","var buffer = tpl.buffer;","var scope = tpl.scope;","var runtime = tpl.runtime;","var name = tpl.name;","var pos = tpl.pos;","var data = scope.data;","var affix = scope.affix;","var nativeCommands = root.nativeCommands;","var utils = root.utils;"]).join("\n"),x="{lhs} = {name}Command.call(tpl, scope, {option}, buffer);",T="buffer = callCommandUtil(tpl, scope, {option}, buffer, {idParts});",C="{lhs} = callFnUtil(tpl, scope, {option}, buffer, {idParts});",N="{lhs} = callDataFnUtil([{params}], {idParts});",I="{lhs} = callFnUtil(tpl, scope, {option}, buffer, {idParts}, {depth});",L="var {lhs} = {value};",S="var {lhs} = scope.resolve({idParts},{depth});",j="var {lhs} = scope.resolveLoose({idParts},{depth});",O=["function {functionName}({params}){","{body}","}"].join("\n"),k=["","//# sourceURL = {name}.js"].join("\n"),M='var {name}Command = nativeCommands["{name}"];',P='var {name}Util = utils["{name}"];',D="buffer = buffer.write({value});",A="buffer.data += {value};",R="buffer = buffer.writeEscaped({value});",q="return buffer;",$=s,H=i;H.yy=o;var z=[],U=v.substitute,F=v.each,B=$.nativeCommands,V=$.utils;F(V,function(e,t){z.push(U(P,{name:t}))}),F(B,function(e,t){z.push(U(M,{name:t}))}),z=z.join("\n");var G=1;m.prototype={constructor:m,raw:function(e){return{exp:e.value}},arrayExpression:function(e){for(var t,n=e.list,r=n.length,i=[],o=[],a=0;r>a;a++)t=this[n[a].type](n[a]),b(i,t.source),o.push(t.exp);return{exp:"["+o.join(",")+"]",source:i}},objectExpression:function(e){for(var t,n=e.obj,r=n.length,i=[],o=[],a=0;r>a;a++){var s=n[a];t=this[s[1].type](s[1]),b(i,t.source),o.push(y(s[0])+": "+t.exp)}return{exp:"{"+o.join(",")+"}",source:i}},conditionalOrExpression:c,conditionalAndExpression:c,relationalExpression:c,equalityExpression:c,additiveExpression:c,multiplicativeExpression:c,unaryExpression:function(e){var t=this[e.value.type](e.value);return{exp:e.unaryType+"("+t.exp+")",source:t.source}},string:function(e){return{exp:g.wrapBySingleQuote(g.escapeString(e.value,1)),source:[]}},number:function(e){return{exp:e.value,source:[]}},id:function(e){var n=[],r=this,i=!r.config.strict;if(t(e.pos,n),g.isGlobalId(e))return{exp:e.string,source:n};var o=e.depth,a=e.parts,s=u(r,"id");if(o)return n.push(U(i?j:S,{lhs:s,idParts:g.convertIdPartsToRawAccessor(r,n,a).arr,depth:o})),{exp:s,source:n};var c,l,h=a[0];if("this"===h)return l=a.slice(1),n.push(U(L,{lhs:s,value:l.length?g.chainedVariableRead(r,n,l,void 0,void 0,i):"data"})),{exp:s,source:n};if("root"===h)return l=a.slice(1),c=l.join("."),c&&(c="."+c),n.push(U(L,{lhs:s,value:c?g.chainedVariableRead(r,n,l,!0,void 0,i):"scope.root.data",idParts:c})),{exp:s,source:n};if("function"===a[0].type){for(var f=g.convertIdPartsToRawAccessor(r,n,a).resolvedParts,d=1;d<f.length;d++)f[d]="["+f[d]+"]";var p;if(i)p=g.genStackJudge(f.slice(1),f[0]);else{p=f[0];for(var m=1;m<f.length;m++)p+=f[m]}n.push(U(L,{lhs:s,value:p}))}else n.push(U(L,{lhs:s,value:g.chainedVariableRead(r,n,a,!1,!0,i)}));return{exp:s,source:n}},"function":function(e,t){return p(this,e,!1,t)},blockStatement:function(e){return p(this,e.func,e)},expressionStatement:function(e){var t,n,r=[],i=e.escape,o=e.value,a=o.type;return t=this[a](o,i),b(r,t.source),n=t.exp,r.push(U(i?R:D,{value:n})),{exp:"",source:r}},contentStatement:function(e){return{exp:"",source:[U(A,{value:g.wrapBySingleQuote(g.escapeString(e.value,0))})]}}};var Q,Y=0;return Q={parse:function(e,t){if(e){var n;try{n=H.parse(e,t)}catch(r){var i;i=r instanceof Error?r:new Error(r);var o="XTemplate error ";throw i.stack=o+i.stack,i.message=o+i.message,i}return n}return{statements:[]}},compileToStr:function(e){var t=Q.compileToJson(e);return U(O,{functionName:e.functionName||"",params:t.params.join(","),body:t.source})},compileToJson:function(e){n();var t=e.name=e.name||"xtemplate"+ ++Y,r=e.content,i=Q.parse(r,t);return f(new m(e),i.statements)},compile:function(e,t,n){var r=Q.compileToJson(v.merge(n,{content:e,name:t}));return Function.apply(null,r.params.concat(r.source+U(k,{name:t})))}},e=Q}(),c=function(e){function t(e,n){var o=typeof e;if("string"!==o&&"function"!==o&&(n=e,e=void 0),n=this.config=i.merge(t.globalConfig,n),"string"===o)try{e=this.compile(e,n.name)}catch(a){this.compileError=a}r.call(this,e,n)}function n(){}var r=s,i=r.util,o=u,a=o.compile;return n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t,t.prototype.compile=function(e,t){return a(e,t,this.config)},t.prototype.render=function(e,t,n){"function"==typeof t&&(n=t);var i=this.compileError;if(!i)return r.prototype.render.apply(this,arguments);if(!n)throw i;n(i)},e=i.mix(t,{config:r.config,compile:a,Compiler:o,Scope:r.Scope,Runtime:r,addCommand:r.addCommand,removeCommand:r.removeCommand})}()}();!function(){"use strict";function e(e,t){return e?(r[e]||(r[e]=new XTemplate(t)),r[e]):new XTemplate(t)}function t(e,t){var n=t&&t.params?t.params[0]:void 0;return Flipper.dataCenter.requestSpace(n)}function n(n,r,i){var o=i.viewId,a=i.element,s=e(o,n),u=i.commands||{};return u.attr=function(e,t){var n=t.params&&t.params[0];return n?a.getAttribute(n):n},u.modelId=function(){return a.modelId||""},u.requestSpace=t,i.commands=u,s.render(r,i)}var r={};Flipper.registerTemplateEngine("xtpl",{render:n})}();